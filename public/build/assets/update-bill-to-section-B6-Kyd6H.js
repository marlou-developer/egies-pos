import{u as g,r as l,s as m,j as t}from"./app-_4OLlqC-.js";import{u as j,g as _}from"./cart-thunk-BvjJbdMb.js";import{g as y}from"./customer-thunk-DGwlsZQZ.js";import{M as k}from"./Modal-BlTXjq9_.js";import{T as v}from"./index-CtHiLr5_.js";import{F as w}from"./PencilIcon-BuiRMHTN.js";import{s as h}from"./index-BcvYnzTf.js";import"./cart-service-BwtDTly3.js";import"./index-CG9rKuyd.js";import"./transition-B-Uxs1wG.js";import"./dialog-CrCrS23k.js";import"./portal-SwuPV3Pq.js";import"./index-BIfExDrV.js";import"./XMarkIcon-BggDpysJ.js";import"./useZIndex-BsH0NPlR.js";import"./index-udCEEfKG.js";import"./asyncToGenerator-CzIkfrrq.js";import"./useId-Bb5W4SDL.js";import"./roundedArrow-DuoZSrrw.js";import"./motion-BLCci2GW.js";import"./zoom-CJ7UA47u.js";import"./UnstableContext-DI5J5Zr_.js";import"./useCSSVarCls-BpZhDJNP.js";import"./KeyCode-C40MO73N.js";function X({data:o}){const{customers:s}=g(e=>e.customers),[x,a]=l.useState(!1),f=()=>a(!0),[c,d]=l.useState(!1),[i,p]=l.useState({}),b=window.location.pathname.split("/")[4];l.useEffect(()=>{m.dispatch(y())},[]),l.useEffect(()=>{p({...o,customer_id:(o==null?void 0:o.customer_id)||""})},[o]);const u=async e=>{e.preventDefault(),d(!0);try{await m.dispatch(j({...i,id:o==null?void 0:o.id,customer_id:(i==null?void 0:i.customer_id)||""})),m.dispatch(_(b)),h.success("Updated Successfully!"),a(!1)}catch{h.error("Failed to update Customer. Please try again.")}finally{d(!1)}};console.log("customers",s),console.log("customers.data",s==null?void 0:s.data);const r=(s==null?void 0:s.data)||s||[],n=Array.isArray(r)?r:(r==null?void 0:r.data)||[];return t.jsxs(t.Fragment,{children:[t.jsx(v,{title:"Edit Customer",children:t.jsx("button",{className:" text-blue-500 font-bold ",type:"button",onClick:f,children:t.jsx(w,{className:"h-4 w-4 mb-1 inline-block"})})}),t.jsxs(k,{open:x,setOpen:a,width:"w-1/4",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Customer"}),t.jsxs("form",{action:"",onSubmit:u,children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name"}),t.jsxs("select",{onChange:e=>p({...i,customer_id:e.target.value}),value:(i==null?void 0:i.customer_id)??"",name:"customer_id",className:"block w-full rounded-md bg-white px-3 py-2.5 text-base text-gray-900 placeholder:text-gray-400 focus:ring-pink-300 focus:border-pink-300 sm:text-sm/6",children:[t.jsx("option",{value:"",children:"Select Customer"}),t.jsx("option",{value:"",children:"N/A"}),n==null?void 0:n.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),t.jsx("div",{children:t.jsx("button",{onSubmit:u,disabled:c,className:"bg-pink-400 p-2 w-full rounded-md text-white hover:bg-pink-300",children:c?"Saving...":"Save"})})]})]})]})}export{X as default};
