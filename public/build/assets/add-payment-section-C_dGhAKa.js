import{r,j as e,s as d}from"./app-D40WQQfP.js";import{B as h}from"./button-DtV0-ynd.js";import{I as c}from"./input-DgwwhFiH.js";import{M as g}from"./modal-Bl2j-DHm.js";import{g as b}from"./app-thunk-Bgj7J_Tn.js";import{a as y}from"./cart-thunk-CAvIosiM.js";import"./moment-C5S46NFB.js";import"./index-COTrLJBV.js";import"./dialog-CHLaOOLd.js";import"./portal-CkL99WdY.js";import"./transition-BSgndNd-.js";import"./index-zhM5BQU6.js";import"./XMarkIcon-CbwT1z1f.js";import"./cart-service-CiPUqfIg.js";function T({data:n}){const[m,o]=r.useState(!1),[t,l]=r.useState({}),[u,i]=r.useState(!1),[s,p]=r.useState(!1);async function x(a){try{i(!0),await d.dispatch(y({...n,...t})),await d.dispatch(b()),o(!1),i(!1)}catch{i(!1)}}console.log("data0",n);function f(a){return!(s&&t.due_date&&t.payment_type&&t.amount&&t.amount<=Number(n.balance)||!s&&t.payment_type&&t.amount&&t.amount<=Number(n.balance))}return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-yellow-100 hover:bg-yellow-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:"Pay Credit"}),e.jsx(g,{isOpen:m,onClose:()=>o(!1),title:"Add Payment",width:"max-w-lg",children:e.jsxs("div",{className:" flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-xl font-bold",children:["Customer Name: ",n.customer.name]}),e.jsxs("div",{className:"font-xl font-bold",children:["Balance: ",n.balance]}),e.jsxs("div",{className:"font-xl font-bold",children:["Current Balance:"," ",Number(n.balance)-Number(t.amount??0)]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{id:"is_customer",name:"is_customer",type:"checkbox",checked:s,onChange:a=>p(a.target.checked),className:"h-5 w-5 rounded border-pink-500 text-pink-600 focus:ring-pink-500 checked:bg-pink-600 checked:hover:bg-pink-600"}),e.jsx("span",{children:"Is Partial?"})]}),s&&e.jsx(c,{onChange:a=>l({...t,due_date:a.target.value}),value:t.due_date,type:"date",label:"Date"}),e.jsx("div",{children:e.jsx(c,{label:"Amount",name:"",value:t.amount,onChange:a=>l({...t,amount:a.target.value}),type:"number"})}),e.jsxs("select",{onChange:a=>l({...t,payment_type:a.target.value}),className:"rounded-md py-2.5 text-gray-500",label:"Mode of Payment",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Mode of Payment:"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"E-Wallet",children:"E-Wallet"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Credit/Debit Card",children:"Credit/Debit Card"})]}),e.jsx(h,{disabled:f(),loading:u,onClick:x,children:"ADD PAYMENT"})]})})]})}export{T as default};
