import{a as f,u as m,r as u,b as r,j as s}from"./app-DvsRy7ql.js";function p({product:e,storeName:c}){var o;const i=f(),{carts:n}=m(t=>t.products);function d(t){const x=n.find(l=>l.id==t.id);if(console.log("result",t),!x)i(r([...n,{...t,sub_price:0,pcs:1}]));else{const l=n.map(a=>a.id===t.id?a.quantity>=a.pcs+1?{...a,pcs:a.pcs+1}:(alert("Insufficient Supply"),a):a);i(r(l))}}return u.useEffect(()=>{n&&i(r(n.map(t=>({...t,sub_price:c=="Store"?t.srp:t.shopee}))))},[n.length,c]),s.jsx(s.Fragment,{children:s.jsxs("button",{onClick:()=>d(e),className:`relative px-3 py-3 flex flex-col border rounded-md h-32 justify-between shadow-lg transition bg-pink-100 border-pink-300
                    ${e.quantity==0?"border-gray-300 cursor-not-allowed":"border-gray-200"}`,disabled:e.quantity==0,children:[e.quantity==0&&s.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-md",style:{backgroundColor:"rgba(204,204,204,0.6)"},children:s.jsx("h1",{className:"text-red-600 font-bold text-xl",children:"Out of Stock"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold flex text-gray-800",children:e.name}),s.jsx("span",{className:"font-light text-sm text-gray-400",children:e.description})]}),s.jsxs("div",{className:"flex flex-row justify-between items-end ",children:[s.jsx("span",{className:"text-lg ",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-gray-800 text-sm flex items-start",children:["SRP: ",s.jsxs("span",{className:"text-pink-500",children:["₱",parseFloat(e.srp).toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:"text-gray-800 text-sm flex items-start",children:["Stock(s): ",e.quantity]})]})}),s.jsx("img",{src:(o=e==null?void 0:e.uploads[0])==null?void 0:o.file,className:"h-20 w-24 object-cover rounded-md",alt:""})]})]})})}export{p as default};
