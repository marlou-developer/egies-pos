import{a as d,u as f,r as h,b as r,j as s}from"./app-_4OLlqC-.js";function p({product:e,storeName:c}){var x;const n=d(),{carts:l}=f(t=>t.products);function m(t){const o=l.find(i=>i.id==t.id);if(console.log("result",t),!o)n(r([...l,{...t,sub_price:0,pcs:1}]));else{const i=l.map(a=>a.id===t.id?a.quantity>=a.pcs+1?{...a,pcs:a.pcs+1}:(alert("Insufficient Supply"),a):a);n(r(i))}}return h.useEffect(()=>{l&&n(r(l.map(t=>({...t,sub_price:c=="Store"?t.srp:t.shopee}))))},[l.length,c]),s.jsx(s.Fragment,{children:s.jsxs("button",{onClick:()=>m(e),className:`relative px-2 sm:px-3 py-2 sm:py-3 flex flex-col border rounded-md min-h-[6rem] sm:min-h-[8rem] justify-between shadow-lg transition bg-pink-100 border-pink-300 w-full
                    ${e.quantity==0?"border-gray-300 cursor-not-allowed":"border-gray-200"}`,disabled:e.quantity==0,children:[e.quantity==0&&s.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-md",style:{backgroundColor:"rgba(204,204,204,0.6)"},children:s.jsx("h1",{className:"text-red-600 font-bold text-xl",children:"Out of Stock"})}),s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"font-bold flex text-gray-800 text-sm sm:text-base leading-tight",children:e.name}),s.jsx("span",{className:"font-light text-xs sm:text-sm text-gray-400 line-clamp-2",children:e.description})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-2 sm:gap-0 w-full",children:[s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsxs("span",{className:"text-gray-800 text-xs sm:text-sm flex items-start",children:["SRP: ",s.jsxs("span",{className:"text-pink-500 font-semibold",children:["₱",parseFloat(e.srp).toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:"text-gray-800 text-xs sm:text-sm flex items-start",children:["Stock(s): ",e.quantity]})]}),s.jsx("img",{src:(x=e==null?void 0:e.uploads[0])==null?void 0:x.file,className:"h-12 w-16 sm:h-16 sm:w-20 md:h-20 md:w-24 object-cover rounded-md flex-shrink-0",alt:""})]})]})})}export{p as default};
