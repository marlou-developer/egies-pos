import{r as i,j as a,s as l}from"./app-Ct2POXjA.js";import{B as m,S as f}from"./sweetalert2.esm.all-DmVzcKLK.js";import{I as c}from"./input-D6n53HTu.js";import{M as y}from"./modal-BoIAlHz1.js";import{a as w,g as _}from"./stock-thunk-BEWKfeo6.js";import"./index-C_f2Isem.js";import"./dialog-Diz6-jSF.js";import"./portal-uBNYy24S.js";import"./transition-BpxhrzRA.js";import"./index-8yh8bDd5.js";import"./XMarkIcon-C1vKr6Aa.js";function B({data:n}){const[s,o]=i.useState(!1),[t,u]=i.useState({}),[d,r]=i.useState(!1);i.useEffect(()=>{var e;s&&u({...n,new_quantity:n.quantity,date:(e=n.date)==null?void 0:e.split("T")[0]})},[s]);async function p(e){try{r(!0),await l.dispatch(w({...t,new_quantity:Number(t.new_quantity),quantity:Number(t.quantity),return:Number(t.quantity)-Number(t.new_quantity)})),await l.dispatch(_()),await f.fire({icon:"success",title:"Added Stock(s) has been updated",showConfirmButton:!1,timer:1500}),o(!1),r(!1)}catch{}}return console.log("waaaa",n),a.jsxs("div",{children:[a.jsx("button",{onClick:()=>o(!0),children:"Edit"}),a.jsx(y,{isOpen:s,width:"max-w-xl",onClose:()=>o(!1),title:"Edit Quantity",children:a.jsxs("div",{className:"flex gap-5 flex-col w-full",children:[a.jsx(c,{label:"Quantity",name:"new_quantity",value:t==null?void 0:t.new_quantity,onChange:e=>u({...t,new_quantity:e.target.value})}),a.jsx(c,{type:"date",label:"Date",name:"date",value:t==null?void 0:t.date,onChange:e=>u({...t,date:e.target.value})}),a.jsx(m,{loading:d,onClick:p,children:"UPDATE"})]})})]})}export{B as default};
