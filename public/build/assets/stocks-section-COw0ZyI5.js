import{u as P,a as F,r as h,j as e,H as k,I as p,f as u}from"./app-B-GzIqAF.js";import{z as L}from"./index-HEqVhiIk.js";import w from"./add-stocks-section-DBEHer-Z.js";import S from"./stocks-history-section-rAcYet8s.js";import{p as d}from"./peso-BbTyboS3.js";import O from"./search-section-B5V0Dqvm.js";import E from"./pagination-section-BBhWCfBA.js";import R from"./print-section-B1SDjyC8.js";import T from"./filter-stocks-component-DUuTYHuH.js";import v from"./soft-delete-section-Cxn6Noes.js";import{T as C}from"./index-CJhwU49A.js";import{F as q}from"./PencilSquareIcon-BST7M-aE.js";import"./Modal-BRj5C6pj.js";import"./index-sQ4K5gPM.js";import"./transition-DMS-iBJX.js";import"./dialog-DxLjf48E.js";import"./portal-BcUodM7X.js";import"./index-DoTDZa7D.js";import"./XMarkIcon-CNPgUjng.js";import"./input-Bh2vdQfL.js";import"./stock-thunk-BcGXFcJM.js";import"./product-thunk-Dt2Ob7j9.js";import"./cart-thunk-DIG_34c7.js";import"./cart-service-D1TJjkyg.js";import"./index-Vs6GXM-Y.js";import"./useZIndex-BqirV763.js";import"./UnstableContext-DskWXpp5.js";import"./useCSSVarCls-DqxqqN8O.js";import"./asyncToGenerator-Cqeps64X.js";import"./KeyCode-C40MO73N.js";import"./index-BKcewm0u.js";import"./useId-3hxs0ffb.js";import"./roundedArrow-BgBQ9dJr.js";import"./motion-BLCci2GW.js";import"./zoom-fibepVjc.js";import"./modal-CLn3AquX.js";import"./moment-C5S46NFB.js";import"./react-pdf.browser-DIUIrnL5.js";function r(...s){return s.filter(Boolean).join(" ")}function Ce(){var g,f,j,N;const{products:s,selectedStocks:o,selectAllStock:y}=P(t=>t.products)||{products:{data:[]}},c=F(),[$,B]=h.useState(!1),[H,U]=h.useState(!1),[D,z]=h.useState(!1);return console.log("products",s.data.data),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:flex sm:items-center",children:e.jsx("div",{className:"sm:flex-auto flex justify-between",children:e.jsxs("h1",{className:"text-base font-semibold text-pink-500",children:[e.jsx(L,{className:"float-left mr-1 mt-1 text-pink-500"}),"Stocks Section"]})})}),e.jsxs("div",{className:"mt-4 flex items-start justify-between",children:[e.jsx(O,{}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(R,{}),e.jsx(T,{open:D,setOpenFilter:z})]})]}),e.jsx("div",{className:"mt-8 block md:hidden",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:t=>{const a=t.target.checked;c(k(a)),c(p(a?[...s.all]:[]))},className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select All"})]})}),(f=(g=s==null?void 0:s.data)==null?void 0:g.data)==null?void 0:f.map((t,a)=>{var i;let n="inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20";t.quantity==0?n="inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20":t.quantity>=1&&t.quantity<=10&&(n="inline-flex items-center rounded-md bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-700 ring-1 ring-inset ring-yellow-600/20");const m=((i=t.stocks)==null?void 0:i.length)>0?new Date([...t.stocks].sort((l,x)=>new Date(x.date)-new Date(l.date))[0].date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"No Stocks Added";return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",checked:o.some(l=>l.id===t.id),onChange:l=>{const b=l.target.checked?[...o,t]:o.filter(A=>A.id!==t.id);c(p(b))},className:"mt-1 rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-bold text-pink-500 mb-2",children:t.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Cost Price:"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:d(Number(t.cost))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Stock:"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:t.quantity})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),e.jsx("span",{className:n,children:t.quantity==0?"Out of Stock":t.quantity<=10?"Low Stock":"In Stock"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Last Added:"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:m})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Retail Value:"}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:d(Number(t.quantity)*Number(t.srp))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Capital:"}),e.jsx("span",{className:"text-sm font-bold text-blue-600",children:d(Number(t.quantity)*Number(t.cost))})]})]})]})]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx(w,{data:t}),e.jsx(S,{data:t}),e.jsx("button",{className:"bg-yellow-300 hover:bg-yellow-400 rounded-md p-2.5",onClick:()=>u.visit(`/administrator/stocks/${t.id}`),children:e.jsx(C,{title:"Edit Added Stock(s)",children:e.jsx(q,{className:"h-4"})})}),e.jsx(v,{data:t})]})]})},a)})]})}),e.jsx("div",{className:"mt-8 hidden md:block",children:e.jsx("div",{className:"flow-root",children:e.jsx("div",{className:"-mx-4 -my-2 sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle",children:e.jsxs("table",{id:"product-table",className:"min-w-full border-separate border-spacing-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 py-3.5 pr-3 pl-4 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter sm:pl-6 lg:pl-8",children:e.jsx("input",{type:"checkbox",checked:y,onChange:t=>{const a=t.target.checked;c(k(a)),c(p(a?[...s.all]:[]))}})}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 py-3.5 pr-3 pl-4 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter sm:pl-6 lg:pl-8",children:"Product"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Stocks"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Cost Price"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Status"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Date last stock(s) added"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Total Inventory Retail Price"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Total Inventory Capital"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:e.jsx("span",{className:"sr-only",children:"Action"})})]})}),e.jsx("tbody",{children:(N=(j=s==null?void 0:s.data)==null?void 0:j.data)==null?void 0:N.map((t,a)=>{var m;let n="inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20";return t.quantity==0?n="inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20":t.quantity>=1&&t.quantity<=10&&(n="inline-flex items-center rounded-md bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-700 ring-1 ring-inset ring-yellow-600/20"),e.jsxs("tr",{children:[e.jsx("td",{className:r(a!==s.data.data.length-1?"border-b border-gray-200":"","py-4 pl-4 pr-3 text-sm sm:pl-6 lg:pl-8"),children:e.jsx("input",{type:"checkbox",checked:o.some(i=>i.id===t.id),onChange:i=>{const x=i.target.checked?[...o,t]:o.filter(b=>b.id!==t.id);c(p(x))}})}),e.jsx("td",{className:r(a!==s.data.data.length-1?"border-b border-gray-200":"","py-4 px-3 pl-4 text-sm font-bold text-pink-500"),children:t.name}),e.jsx("td",{className:r(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm whitespace-nowrap text-gray-500"),children:e.jsx("span",{className:"inline-flex items-center font-bold px-2 py-1",children:t.quantity})}),e.jsx("td",{className:r(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm font-bold whitespace-nowrap text-gray-500"),children:t.cost==null||Number(t.cost)===0?"₱None":`₱${Number(t.cost).toFixed(2)}`}),e.jsx("td",{className:r(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm font-bold whitespace-nowrap text-gray-500"),children:e.jsx("span",{className:n,children:t.quantity==0?"Out of Stock":t.quantity<=10?"Low Stock":"In Stock"})}),e.jsx("td",{className:r(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm whitespace-nowrap text-gray-500"),children:e.jsx("span",{className:"inline-flex items-center font-bold px-2 py-1",children:((m=t.stocks)==null?void 0:m.length)>0?new Date([...t.stocks].sort((i,l)=>new Date(l.date)-new Date(i.date))[0].date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"No Stocks Added"})}),e.jsx("td",{className:r(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm whitespace-nowrap text-gray-500"),children:e.jsx("span",{className:"inline-flex items-center font-bold px-2 py-1",children:d(Number(t.quantity)*Number(t.srp))})}),e.jsx("td",{className:r(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm whitespace-nowrap text-gray-500"),children:e.jsx("span",{className:"inline-flex items-center font-bold px-2 py-1",children:d(Number(t.quantity)*Number(t.cost))})}),e.jsx("td",{className:r(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm text-gray-700"),children:e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx(w,{data:t}),e.jsx(S,{data:t}),e.jsx("button",{className:"bg-yellow-300 hover:bg-yellow-400 rounded-md p-2.5",onClick:()=>u.visit(`/administrator/stocks/${t.id}`),children:e.jsx(C,{title:"Edit Added Stock(s)",children:e.jsx(q,{className:"h-4"})})}),e.jsx(v,{data:t})]})})]},a)})})]})})})})}),e.jsx("div",{className:"mt-8",children:e.jsx(E,{})})]})}export{Ce as default};
