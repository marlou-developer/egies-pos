import{r,j as t,s as p}from"./app-Ct2POXjA.js";import{B as x,S as b}from"./sweetalert2.esm.all-DmVzcKLK.js";import{I as g}from"./input-D6n53HTu.js";import{M as h}from"./modal-BoIAlHz1.js";import{p as m}from"./peso-BbTyboS3.js";import{e as _}from"./cart-service-hj-6st5g.js";import{g as j}from"./app-thunk-DH9Leu1h.js";import"./moment-C5S46NFB.js";import{b as y}from"./index-WhrsqoUh.js";import"./index-C_f2Isem.js";import"./dialog-Diz6-jSF.js";import"./portal-uBNYy24S.js";import"./transition-BpxhrzRA.js";import"./index-8yh8bDd5.js";import"./XMarkIcon-C1vKr6Aa.js";import"./user-service-CuCFIBa3.js";function R({data:e}){const[i,a]=r.useState(!1),[s,l]=r.useState({}),[c,o]=r.useState(!1),[u,v]=r.useState(!1);console.log("datadata",e),r.useEffect(()=>{l({cart_id:e==null?void 0:e.cart_id,due_date:e==null?void 0:e.due_date})},[i]);async function f(n){try{o(!0),await _(s),await p.dispatch(j()),await b.fire({icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),a(!1),o(!1)}catch{o(!1)}}console.log("data0",e);function d(n){return!(s.due_date||!u&&s.payment_type&&s.amount&&s.amount<=Number(e.balance))}return t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-blue-100 hover:bg-blue-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:[t.jsx(y,{className:" text-blue-500"}),"Edit Due Date"]}),t.jsx(h,{isOpen:i,onClose:()=>a(!1),title:"EDIT DUE DATE",width:"max-w-lg",children:t.jsxs("div",{className:" flex flex-col gap-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"font-xl font-bold",children:["Customer Name: ",e.customer.name]}),t.jsxs("div",{className:"font-xl font-bold",children:["Balance: ",m(Number(e.balance))]}),t.jsxs("div",{className:"font-xl font-bold",children:["Current Balance:"," ",m(Number(e.balance)-Number(s.amount??0))]})]}),t.jsx(g,{onChange:n=>l({...s,due_date:n.target.value}),value:s.due_date,type:"date",label:"Date"}),t.jsx(x,{disabled:d(),loading:c,onClick:f,children:"EDIT DUE DATE"})]})})]})}export{R as default};
