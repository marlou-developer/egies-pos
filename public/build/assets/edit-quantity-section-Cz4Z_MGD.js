import{r as i,j as a,s as l}from"./app-CYvSCENM.js";import{B as m}from"./button-ud49zA3C.js";import{I as c}from"./input-WCvFfjqz.js";import{M as f}from"./modal-CcxU637T.js";import{a as y,g as w}from"./stock-thunk-yQWmAE9-.js";import{S as _}from"./sweetalert2.esm.all-DV3w3JmD.js";import"./index-uIl09JcU.js";import"./XMarkIcon-BKx4VPsc.js";import"./transition-ByG5uarz.js";import"./dialog-BZOExL8d.js";import"./portal-BFUAJsn9.js";import"./index-COXvXt9F.js";function Q({data:n}){const[s,o]=i.useState(!1),[t,r]=i.useState({}),[d,u]=i.useState(!1);i.useEffect(()=>{var e;s&&r({...n,new_quantity:n.quantity,date:(e=n.date)==null?void 0:e.split("T")[0]})},[s]);async function p(e){try{u(!0),await l.dispatch(y({...t,new_quantity:Number(t.new_quantity),quantity:Number(t.quantity),return:Number(t.quantity)-Number(t.new_quantity)})),await l.dispatch(w()),await _.fire({icon:"success",title:"Added Stock(s) has been updated",showConfirmButton:!1,timer:1500}),o(!1),u(!1)}catch{}}return console.log("waaaa",n),a.jsxs("div",{children:[a.jsx("button",{onClick:()=>o(!0),children:"Edit"}),a.jsx(f,{isOpen:s,width:"max-w-xl",onClose:()=>o(!1),title:"Edit Quantity",children:a.jsxs("div",{className:"flex gap-5 flex-col w-full",children:[a.jsx(c,{label:"Quantity",name:"new_quantity",value:t==null?void 0:t.new_quantity,onChange:e=>r({...t,new_quantity:e.target.value})}),a.jsx(c,{type:"date",label:"Date",name:"date",value:t==null?void 0:t.date,onChange:e=>r({...t,date:e.target.value})}),a.jsx(m,{loading:d,onClick:p,children:"UPDATE"})]})})]})}export{Q as default};
