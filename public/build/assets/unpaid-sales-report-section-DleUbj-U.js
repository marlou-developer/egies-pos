import{u as D,j as e}from"./app-BGT8zhPc.js";import{P as S,D as B,a as N,S as C,V as l,T as t,F as T}from"./react-pdf.browser-B9N6qcoU.js";import{h as u}from"./moment-C5S46NFB.js";import{p as d}from"./peso-BbTyboS3.js";T.register({family:"NotoSans",fonts:[{src:"/fonts/Noto_Sans/static/NotoSans-Regular.ttf",fontWeight:"normal"},{src:"/fonts/Noto_Sans/static/NotoSans-Bold.ttf",fontWeight:"bold"}]});const x=C.create({page:{fontFamily:"NotoSans",fontSize:10,padding:30},header:{marginBottom:20},companyInfo:{textAlign:"right"},title:{fontSize:18,fontWeight:"bold",marginBottom:10},infoRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:2},tableHeader:{flexDirection:"row",backgroundColor:"#f0f0f0",borderBottom:1,padding:5,fontWeight:"bold"},tableRow:{flexDirection:"row",borderBottom:1,padding:5},col:{flex:1,paddingHorizontal:3},colSmall:{flex:.5,paddingHorizontal:3},summary:{marginTop:10,alignItems:"flex-end"}}),P=()=>{var m,f,j,g,y;const{reports:i}=D(s=>s.carts),h=new URLSearchParams(window.location.search),w=h.get("start"),b=h.get("end"),p=(m=i==null?void 0:i.data)==null?void 0:m.reduce((s,c)=>{var o;const r=(o=c.carts)==null?void 0:o[0];return s+(r?Number(r.balance):0)},0);return e.jsx(S,{style:{width:"100%",height:"100vh"},children:e.jsx(B,{children:e.jsxs(N,{orientation:"landscape",size:"A4",style:x.page,children:[e.jsxs(l,{style:x.header,children:[e.jsx(t,{style:x.title,children:"UNPAID SALES"}),e.jsxs(l,{style:{width:"100%",flexDirection:"row",justifyContent:"space-between",marginBottom:10},children:[e.jsxs(l,{style:{flex:1},children:[e.jsxs(l,{style:{flexDirection:"row",marginBottom:2},children:[e.jsx(t,{style:{width:60},children:"Period:"}),e.jsxs(t,{children:[w," - ",b]})]}),e.jsxs(l,{style:{flexDirection:"row",marginBottom:2},children:[e.jsx(t,{style:{width:60},children:"Customer:"}),e.jsx(t,{children:((f=i==null?void 0:i.customer)==null?void 0:f.name)??"All"})]}),e.jsxs(l,{style:{flexDirection:"row",marginBottom:2},children:[e.jsx(t,{style:{width:60},children:"User:"}),e.jsx(t,{children:((j=i==null?void 0:i.user)==null?void 0:j.name)??"All"})]}),e.jsxs(l,{style:{flexDirection:"row",marginBottom:2},children:[e.jsx(t,{style:{width:60},children:"Product:"}),e.jsx(t,{children:((g=i==null?void 0:i.product)==null?void 0:g.name)??"All"})]})]}),e.jsxs(l,{style:{flex:1,textAlign:"left"},children:[e.jsxs(l,{style:{flexDirection:"row",justifyContent:"flex-start",marginBottom:2},children:[e.jsxs(t,{style:{width:60},children:["Company:  "," "]}),e.jsx(t,{children:"Egie's Beauty Boutique"})]}),e.jsxs(l,{style:{flexDirection:"row",justifyContent:"flex-start"},children:[e.jsxs(t,{style:{width:53},children:["Address: "," "]}),e.jsx(t,{children:"Rizal Street Brgy V, 6127 San Carlos City"})]})]})]})]}),e.jsxs(l,{children:[(y=i==null?void 0:i.data)==null?void 0:y.map((s,c)=>{var o;const r=(o=s==null?void 0:s.carts)==null?void 0:o.reduce((n,a)=>n+Number(a.balance),0);return e.jsxs(l,{style:{marginBottom:10},children:[e.jsxs(t,{style:{fontWeight:"bold",marginBottom:4},children:["Customer: ",s.name]}),e.jsx(l,{style:{flexDirection:"row",borderBottomWidth:1},children:["Document number","Date","Due date","Total","Total paid","Total unpaid"].map((n,a)=>e.jsx(t,{style:{flex:1,fontWeight:"bold",padding:2},children:n},a))}),s.carts.map((n,a)=>e.jsx(e.Fragment,{children:e.jsxs(l,{style:{flexDirection:"row",borderBottomWidth:.5},children:[e.jsx(t,{style:{flex:1,padding:2},children:n.cart_id}),e.jsx(t,{style:{flex:1,padding:2},children:u(n.created_at).format("LLL")}),e.jsx(t,{style:{flex:1,padding:2},children:u(n.due_date).format("LLL")}),e.jsx(t,{style:{flex:1,padding:2},children:d(Number(n.total_price))}),e.jsx(t,{style:{flex:1,padding:2},children:d(Number(n.total_price)-Number(n.balance))}),e.jsx(t,{style:{flex:1,padding:2},children:Number(n.balance)})]},a)})),e.jsx(l,{style:{flexDirection:"row",justifyContent:"flex-end"},children:e.jsxs(t,{style:{marginTop:4,fontWeight:"bold"},children:["Total Balance:"," ",d(r)]})})]},c)}),e.jsx(l,{style:{flexDirection:"row",justifyContent:"flex-end",marginTop:10},children:e.jsxs(t,{style:{fontWeight:"bold"},children:["Overall Total: ",d(p)]})})]})]})})})};export{P as default};
