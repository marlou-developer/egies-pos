import{u,r as o,j as e,s as m}from"./app-CKDHzOSk.js";import{i as p,k as h}from"./index-EPtEp33I.js";import"./index-E8xRhlHQ.js";import{I as l}from"./input-8NH6ikIx.js";import{D as f}from"./drawer-section-BJij_nDK.js";import{c as v,g as j}from"./user-thunk-D_7e45Sd.js";import{F as g}from"./XMarkIcon-DRa8tGBn.js";import{s as d}from"./index-B67H0GNk.js";import"./transition-D_iX3FKj.js";import"./user-service-DchcEAch.js";import"./useZIndex-CGQiNj7R.js";import"./index-CPKb4j7S.js";import"./UnstableContext-CWUUad58.js";import"./KeyCode-C40MO73N.js";function M({open:c,setOpenUser:i}){const{users:y}=u(s=>s.users),[r,n]=o.useState(!1),[a,t]=o.useState({}),x=async s=>{s.preventDefault(),n(!0);try{await m.dispatch(v({...a})),d.success("Successfully added!"),await m.dispatch(j()),i(!1)}catch{d.error("Failed to add User. Please try again.")}finally{n(!1)}};return e.jsx(f,{open:c,setOpen:i,className:"relative z-50",children:e.jsx("div",{className:"pointer-events-auto w-screen max-w-md transform transition duration-500 ease-in-out sm:duration-700",children:e.jsx("div",{className:"flex h-full flex-col divide-y divide-gray-200 bg-white shadow-xl",children:e.jsxs("div",{className:"h-0 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"bg-pink-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-base font-semibold text-pink-600",children:[e.jsx(p,{className:"inline-block mr-1"}),"New User"]}),e.jsx("button",{type:"button",onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:e.jsx(g,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Fill in the information below to create a new user."})]}),e.jsx("div",{className:"px-4 sm:px-6",children:e.jsxs("div",{className:"space-y-6 pt-6 pb-5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"inline-block mr-1 text-pink-500"}),e.jsx("h3",{className:"text-base font-medium text-gray-600",children:"User Information"}),e.jsx("hr",{className:"my-2"})]}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{children:e.jsx(l,{onChange:s=>t({...a,fname:s.target.value}),value:a.fname||"",name:"fname",label:"First name",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:s=>t({...a,mname:s.target.value}),value:a.mname||"",name:"mname",label:"Middle name",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:s=>t({...a,lname:s.target.value}),value:a.lname||"",name:"lname",label:"Last name",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:s=>t({...a,suffix:s.target.value}),value:a.suffix||"",name:"suffix",label:"Suffix",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:s=>t({...a,title:s.target.value}),value:a.title||"",name:"title",label:"Position",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:s=>t({...a,email:s.target.value}),value:a.email||"",name:"email",label:"Email",type:"email"})}),e.jsx("div",{children:e.jsx(l,{onChange:s=>t({...a,password:s.target.value}),value:a.password||"",name:"password",label:"Password",type:"password"})}),e.jsx("div",{children:e.jsxs("select",{onChange:s=>t({...a,user_type:s.target.value}),value:a.user_type||"",name:"user_type",type:"text",className:"block w-full rounded-md bg-white px-3 py-2.5 text-base text-gray-900 placeholder:text-gray-400 focus:ring-pink-300 focus:border-pink-300 sm:text-sm/6",children:[e.jsx("option",{value:"",children:"Select User Type"}),e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Staff",children:"Staff"})]})})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-gray-300 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:r,className:"ml-4 inline-flex justify-center rounded-md bg-pink-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-600",children:r?"Saving...":"Save"})]})]})]})})]})})})})}export{M as default};
