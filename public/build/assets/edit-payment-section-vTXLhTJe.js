import{r as s,j as e,s as d}from"./app-Dsla9gK7.js";import{B as x}from"./button-CWi1C3De.js";import{I as h}from"./input-BYy-iuHQ.js";import{M as b}from"./modal-BlCc7oj0.js";import{p as m}from"./peso-BbTyboS3.js";import{e as g}from"./cart-service-yAXTjbcV.js";import{g as j}from"./app-thunk-Dphbgx4J.js";import"./moment-C5S46NFB.js";import{c as _}from"./index-B-8jGLEF.js";import{S as v}from"./sweetalert2.esm.all-DV3w3JmD.js";import{T as y}from"./index-DenEAQ5j.js";import"./index-CF2nsWhv.js";import"./dialog-CyWWCobP.js";import"./portal-BuO1WP8K.js";import"./transition-D6OheOlk.js";import"./index-BKJBMC8W.js";import"./XMarkIcon-BRQXa9n9.js";import"./user-service-DZxAGFY3.js";import"./useZIndex-C8_4aoZD.js";import"./index-eC27NGdn.js";import"./asyncToGenerator-DVd_kSM5.js";import"./useId-Ds-OczcO.js";import"./roundedArrow-DEBED9-M.js";import"./motion-BLCci2GW.js";import"./zoom-BQbTgYXs.js";function W({data:t}){const[n,o]=s.useState(!1),[r,l]=s.useState({}),[c,i]=s.useState(!1),[u,E]=s.useState(!1);console.log("datadata",t),s.useEffect(()=>{l({cart_id:t==null?void 0:t.cart_id,due_date:t==null?void 0:t.due_date})},[n]);async function p(a){try{i(!0),await g(r),await d.dispatch(j()),await v.fire({icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),o(!1),i(!1)}catch{i(!1)}}console.log("data0",t);function f(a){return!(r.due_date||!u&&r.payment_type&&r.amount&&r.amount<=Number(t.balance))}return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Edit Due Date",children:e.jsx("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-blue-400 hover:bg-blue-500 p-3 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:e.jsx(_,{className:" text-white"})})}),e.jsx(b,{isOpen:n,onClose:()=>o(!1),title:"EDIT DUE DATE",width:"max-w-lg",children:e.jsxs("div",{className:" flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-xl font-bold",children:["Customer Name: ",t.customer.name]}),e.jsxs("div",{className:"font-xl font-bold",children:["Balance: ",m(Number(t.balance))]}),e.jsxs("div",{className:"font-xl font-bold",children:["Current Balance:"," ",m(Number(t.balance)-Number(r.amount??0))]})]}),e.jsx(h,{onChange:a=>l({...r,due_date:a.target.value}),value:r.due_date,type:"date",label:"Date"}),e.jsx(x,{disabled:f(),loading:c,onClick:p,children:"EDIT DUE DATE"})]})})]})}export{W as default};
