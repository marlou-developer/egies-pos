import{u as x,r as n,j as a,s as u}from"./app-DtDddz2x.js";import{B as g}from"./button-CDm1bTUc.js";import{I as p}from"./input-BoaF_ADq.js";import{M as f}from"./modal-BS1b0sXz.js";import{a as h,g as y}from"./stock-thunk-Cw91Z_ql.js";import{d as w}from"./index-Dj0h-9XG.js";import{S as _}from"./sweetalert2.esm.all-DV3w3JmD.js";import{T as b}from"./index-DMSLd_0w.js";import"./index-y8niXjLq.js";import"./XMarkIcon-BSMu0Ji5.js";import"./transition-BByyZtP9.js";import"./dialog-8vsM4Vul.js";import"./portal-CGGah4WU.js";import"./index-Dy12rNBy.js";import"./useZIndex-D18d4c9o.js";import"./index-s1SJxTVw.js";import"./asyncToGenerator-C6yFI0DE.js";import"./useId-Cvl4FaRs.js";import"./roundedArrow-CuT_qvve.js";import"./motion-BLCci2GW.js";import"./zoom-BRTqoaOh.js";function G({data:i}){const{suppliers:d}=x(e=>e.suppliers),[o,r]=n.useState(!1),[t,s]=n.useState({}),[c,l]=n.useState(!1);n.useEffect(()=>{var e;o&&s({...i,new_quantity:i.quantity,date:(e=i.date)==null?void 0:e.split("T")[0]})},[o]);async function m(e){try{l(!0),await u.dispatch(h({...t,new_quantity:Number(t.new_quantity),quantity:Number(t.quantity),return:Number(t.quantity)-Number(t.new_quantity)})),await u.dispatch(y()),await _.fire({icon:"success",title:"Added Stock(s) has been updated",showConfirmButton:!1,timer:1500}),r(!1),l(!1)}catch{}}return console.log("waaaa",i),a.jsxs("div",{children:[a.jsx(b,{title:"Edit Added Stock(s)",children:a.jsx("button",{className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-orange-400 hover:bg-orange-500 p-3 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",onClick:()=>r(!0),children:a.jsx(w,{className:"size-3.5 text-white"})})}),a.jsx(f,{isOpen:o,width:"max-w-xl",onClose:()=>r(!1),title:"Edit Added Stock(s)",children:a.jsxs("div",{className:"flex gap-5 flex-col w-full",children:[a.jsx(p,{label:"Quantity",name:"new_quantity",value:t==null?void 0:t.new_quantity,onChange:e=>s({...t,new_quantity:e.target.value})}),a.jsx(p,{type:"date",label:"Date",name:"date",value:t==null?void 0:t.date,onChange:e=>s({...t,date:e.target.value})}),a.jsxs("select",{onChange:e=>s({...t,supplier_id:e.target.value}),value:(t==null?void 0:t.supplier_id)??"",name:"supplier_id",className:"block w-full rounded-md bg-white px-3 py-2.5 text-base text-gray-900 placeholder:text-gray-400 focus:ring-pink-300 focus:border-pink-300 sm:text-sm/6",children:[a.jsx("option",{value:"",children:"Select Supplier"}),a.jsx("option",{value:"",children:"N/A"}),d.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]}),a.jsx(g,{loading:c,onClick:m,children:"UPDATE"})]})})]})}export{G as default};
