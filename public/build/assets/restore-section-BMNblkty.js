import{r as n,j as e,s}from"./app-B-GzIqAF.js";import{M as g}from"./Modal-BRj5C6pj.js";import{r as d}from"./stock-thunk-BcGXFcJM.js";import{g as u}from"./product-thunk-Dt2Ob7j9.js";import{b as x}from"./cart-thunk-DIG_34c7.js";import{p as f}from"./peso-BbTyboS3.js";import{T as h}from"./index-CJhwU49A.js";import{s as l}from"./index-Vs6GXM-Y.js";import"./index-sQ4K5gPM.js";import"./transition-DMS-iBJX.js";import"./dialog-DxLjf48E.js";import"./portal-BcUodM7X.js";import"./index-DoTDZa7D.js";import"./XMarkIcon-CNPgUjng.js";import"./cart-service-D1TJjkyg.js";import"./useZIndex-BqirV763.js";import"./index-BKcewm0u.js";import"./asyncToGenerator-Cqeps64X.js";import"./useId-3hxs0ffb.js";import"./roundedArrow-BgBQ9dJr.js";import"./motion-BLCci2GW.js";import"./zoom-fibepVjc.js";import"./UnstableContext-DskWXpp5.js";import"./useCSSVarCls-DqxqqN8O.js";import"./KeyCode-C40MO73N.js";function I({data:r}){const[m,t]=n.useState(!1),[o,i]=n.useState(!1),p=async c=>{c.preventDefault(),i(!0);try{await s.dispatch(d({product_id:String(r==null?void 0:r.id),products:{id:String(r==null?void 0:r.id)}})),await s.dispatch(x()),await s.dispatch(u()),l.success("Successfully restored!"),t(!1)}catch(a){l.error("Failed to restore. Please try again."),console.error("Restore error:",a)}finally{i(!1)}};return e.jsxs("div",{children:[e.jsx(h,{title:"Restore Product",children:e.jsx("button",{type:"button",onClick:()=>t(!0),className:"relative inline-flex items-center rounded-md bg-green-400 w-full p-3 text-sm font-semibold text-gray-900 ring-1 ring-gray-300 ring-inset hover:bg-green-600 ",children:"Restore"})}),e.jsx(g,{open:m,setOpen:t,children:e.jsxs("form",{onSubmit:p,children:[e.jsx("div",{className:"mt-6 flex flex-col gap-5",children:e.jsxs("h1",{className:"text-xl",children:["Are you sure you want to restore ",e.jsx("b",{children:r==null?void 0:r.name})," with ",e.jsx("b",{children:f(Number(r.cost))})," cost price?"]})}),e.jsxs("div",{className:"flex gap-3 mt-5",children:[e.jsx("button",{type:"submit",disabled:o,className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-green-400 hover:bg-green-500 disabled:bg-gray-400 p-3 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:o?"Restoring...":"Restore"}),e.jsx("button",{type:"button",onClick:()=>t(!1),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-gray-400 hover:bg-gray-500 p-3 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:"Cancel"})]})]})})]})}export{I as default};
