import{u as b,j as t}from"./app-B2U0fCfV.js";import{P as D,D as C,a as P,S as N,V as o,T as l,F as R}from"./react-pdf.browser-BjDdXSy0.js";import{p as a}from"./peso-BbTyboS3.js";R.register({family:"NotoSans",fonts:[{src:"/fonts/Noto_Sans/static/NotoSans-Regular.ttf",fontWeight:"normal"},{src:"/fonts/Noto_Sans/static/NotoSans-Bold.ttf",fontWeight:"bold"}]});const n=N.create({page:{fontFamily:"NotoSans",fontSize:10,padding:30},header:{marginBottom:20},companyInfo:{textAlign:"right"},title:{fontSize:18,fontWeight:"bold",marginBottom:10},infoRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:2},tableHeader:{flexDirection:"row",backgroundColor:"#f0f0f0",borderBottom:1,padding:5,fontWeight:"bold"},tableRow:{flexDirection:"row",borderBottom:1,padding:5},col:{flex:1,paddingHorizontal:3},colSmall:{flex:.5,paddingHorizontal:3},summary:{marginTop:10,alignItems:"flex-end"}}),_=()=>{var c,d,x,h,m,f,j;const{reports:e}=b(s=>s.carts),r=new URLSearchParams(window.location.search),u=r.get("start"),w=r.get("end"),S=(c=e==null?void 0:e.data)==null?void 0:c.reduce((s,i)=>s+Number(i.total),0),p=(d=e==null?void 0:e.data)==null?void 0:d.reduce((s,i)=>s+Number(i.cost),0),B=(x=e==null?void 0:e.data)==null?void 0:x.reduce((s,i)=>s+Number(i.profit),0);return console.log("reports",e==null?void 0:e.data),t.jsx(D,{style:{width:"100%",height:"100vh"},children:t.jsx(C,{children:t.jsxs(P,{size:"A4",style:n.page,children:[t.jsxs(o,{style:n.header,children:[t.jsx(l,{style:n.title,children:"PURCHASE BY SUPPLIER"}),t.jsxs(o,{style:{width:"100%",flexDirection:"row",justifyContent:"space-between",marginBottom:10},children:[t.jsxs(o,{style:{flex:1},children:[t.jsxs(o,{style:{flexDirection:"row",marginBottom:2},children:[t.jsx(l,{style:{width:60},children:"Period:"}),t.jsxs(l,{children:[u," - ",w]})]}),t.jsxs(o,{style:{flexDirection:"row",marginBottom:2},children:[t.jsx(l,{style:{width:60},children:"Customer:"}),t.jsx(l,{children:((h=e==null?void 0:e.customer)==null?void 0:h.name)??"All"})]}),t.jsxs(o,{style:{flexDirection:"row",marginBottom:2},children:[t.jsx(l,{style:{width:60},children:"User:"}),t.jsx(l,{children:((m=e==null?void 0:e.user)==null?void 0:m.name)??"All"})]}),t.jsxs(o,{style:{flexDirection:"row",marginBottom:2},children:[t.jsx(l,{style:{width:60},children:"Product:"}),t.jsx(l,{children:((f=e==null?void 0:e.product)==null?void 0:f.name)??"All"})]})]}),t.jsxs(o,{style:{flex:1,textAlign:"left"},children:[t.jsxs(o,{style:{flexDirection:"row",justifyContent:"flex-start",marginBottom:2},children:[t.jsxs(l,{style:{width:60},children:["Company:  "," "]}),t.jsx(l,{children:"Egie's Beauty Boutique"})]}),t.jsxs(o,{style:{flexDirection:"row",justifyContent:"flex-start"},children:[t.jsxs(l,{style:{width:53},children:["Address: "," "]}),t.jsx(l,{children:"Rizal Street Brgy V, 6127 San Carlos City"})]})]})]})]}),t.jsxs(o,{style:n.tableHeader,children:[t.jsx(l,{style:n.colSmall,children:"Supplier"}),t.jsx(l,{style:n.col,children:"Total Before Tax"}),t.jsx(l,{style:n.colSmall,children:"Total"})]}),(j=e==null?void 0:e.data)==null?void 0:j.map((s,i)=>{var y,g;return t.jsxs(o,{style:n.tableRow,children:[t.jsx(l,{style:n.colSmall,children:((g=(y=s==null?void 0:s.product)==null?void 0:y.supplier)==null?void 0:g.name)??"N/A"}),t.jsx(l,{style:n.col,children:a(s.total)}),t.jsx(l,{style:n.colSmall,children:a(s.total)})]},i)}),t.jsxs(o,{style:n.summary,children:[t.jsxs(l,{children:["Total Cost: ",a(p)]}),t.jsxs(l,{children:["Total Sales: ",a(S)]}),t.jsxs(l,{children:["Total Profit: ",a(B)]})]})]})})})};export{_ as default};
