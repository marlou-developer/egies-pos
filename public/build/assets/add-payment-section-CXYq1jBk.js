import{r as n,j as e,s as c}from"./app-DejSfERW.js";import{B as g}from"./button-BAWx4MA2.js";import{I as d}from"./input-HD8klgpJ.js";import{M as y}from"./modal-C16ezL6y.js";import{p}from"./peso-BbTyboS3.js";import{g as j}from"./app-thunk-DSdh5Ae-.js";import{a as v}from"./cart-thunk-wteSctlS.js";import"./moment-C5S46NFB.js";import{e as k}from"./index-Cs-C92-X.js";import{S as C}from"./sweetalert2.esm.all-DV3w3JmD.js";import{T as N}from"./index-D_BwxarB.js";import"./index-CMrGXhd4.js";import"./XMarkIcon-Dju_x4MT.js";import"./transition-w3W1TVLt.js";import"./dialog-CWkgf-RZ.js";import"./portal-CIB-9S9R.js";import"./index-M-3qOBHF.js";import"./cart-service-L3d9MX6M.js";import"./user-service-BkNNg3FQ.js";import"./useZIndex-B47vIROd.js";import"./index-3OMsU8ui.js";import"./asyncToGenerator-B4R9HJ99.js";import"./useId-Dz3T9l45.js";import"./roundedArrow-Du6gA19i.js";import"./motion-BLCci2GW.js";import"./zoom-CDQoj0xy.js";function Z({data:a}){var m;const[u,o]=n.useState(!1),[t,i]=n.useState({}),[f,l]=n.useState(!1),[s,x]=n.useState(!1);async function h(r){try{l(!0),await c.dispatch(v({...a,...t})),await c.dispatch(j()),await C.fire({icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),o(!1),l(!1)}catch{l(!1)}}console.log("data0",a);function b(r){return!(s&&t.due_date&&t.payment_type&&t.amount&&t.amount<=Number(a.balance)||!s&&t.payment_type&&t.amount&&t.amount<=Number(a.balance))}return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Pay Credit",children:e.jsx("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-yellow-300 hover:bg-yellow-400 p-3 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:e.jsx(k,{className:" text-gray-500"})})}),e.jsx(y,{isOpen:u,onClose:()=>o(!1),title:"Add Payment",width:"max-w-lg",children:e.jsxs("div",{className:" flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-xl font-bold",children:["Customer Name: ",(m=a==null?void 0:a.customer)==null?void 0:m.name]}),e.jsxs("div",{className:"font-xl font-bold",children:["Balance: ",p(Number(a.balance))]}),e.jsxs("div",{className:"font-xl font-bold",children:["Current Balance:"," ",p(Number(a.balance)-Number(t.amount??0))]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{id:"is_customer",name:"is_customer",type:"checkbox",checked:s,onChange:r=>x(r.target.checked),className:"h-5 w-5 rounded border-pink-500 text-pink-600 focus:ring-pink-500 checked:bg-pink-600 checked:hover:bg-pink-600"}),e.jsx("span",{children:"Is Partial?"})]}),s&&e.jsx(d,{onChange:r=>i({...t,due_date:r.target.value}),value:t.due_date,type:"date",label:"Date"}),e.jsx("div",{children:e.jsx(d,{label:"Amount",name:"",value:t.amount,onChange:r=>i({...t,amount:r.target.value}),type:"number"})}),e.jsxs("select",{onChange:r=>i({...t,payment_type:r.target.value}),className:"rounded-md py-2.5 text-gray-500",label:"Mode of Payment",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Mode of Payment:"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"E-Wallet",children:"E-Wallet"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Credit/Debit Card",children:"Credit/Debit Card"})]}),e.jsx(g,{disabled:b(),loading:f,onClick:h,children:"ADD PAYMENT"})]})})]})}export{Z as default};
