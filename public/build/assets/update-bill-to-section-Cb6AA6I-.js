import{u as g,r as l,s as m,j as t}from"./app-DDDoYqQV.js";import{u as j,g as _}from"./cart-thunk-Co02pdnB.js";import{g as y}from"./customer-thunk-ZTyzu1Q5.js";import{M as k}from"./Modal-D5ALavXY.js";import{T as v}from"./index-DEdQCma_.js";import{F as w}from"./PencilIcon-CTCGtdnx.js";import{s as h}from"./index-kN-WvU_f.js";import"./cart-service-CIe6iba9.js";import"./index-BnL45T8x.js";import"./transition-CegpwZQT.js";import"./dialog-BIfouGZa.js";import"./portal-Dqu7LYs2.js";import"./index-BUOp6ykX.js";import"./XMarkIcon-CAy5-JJn.js";import"./useZIndex-WpFg1pBN.js";import"./index-CoFqY850.js";import"./asyncToGenerator-CGlLSRwR.js";import"./useId-ChxGwWOJ.js";import"./roundedArrow-DtwoKBj5.js";import"./motion-BLCci2GW.js";import"./zoom-DtYilbI5.js";import"./UnstableContext-I6H87u9F.js";import"./useCSSVarCls-CignllIs.js";import"./KeyCode-C40MO73N.js";function X({data:o}){const{customers:s}=g(e=>e.customers),[x,a]=l.useState(!1),f=()=>a(!0),[c,d]=l.useState(!1),[i,p]=l.useState({}),b=window.location.pathname.split("/")[3];l.useEffect(()=>{m.dispatch(y())},[]),l.useEffect(()=>{p({...o,customer_id:(o==null?void 0:o.customer_id)||""})},[o]);const u=async e=>{e.preventDefault(),d(!0);try{await m.dispatch(j({...i,id:o==null?void 0:o.id,customer_id:(i==null?void 0:i.customer_id)||""})),m.dispatch(_(b)),h.success("Updated Successfully!"),a(!1)}catch{h.error("Failed to update Customer. Please try again.")}finally{d(!1)}};console.log("customers",s),console.log("customers.data",s==null?void 0:s.data);const r=(s==null?void 0:s.data)||s||[],n=Array.isArray(r)?r:(r==null?void 0:r.data)||[];return t.jsxs(t.Fragment,{children:[t.jsx(v,{title:"Edit Customer",children:t.jsx("button",{className:" text-blue-500 font-bold ",type:"button",onClick:f,children:t.jsx(w,{className:"h-4 w-4 mb-1 inline-block"})})}),t.jsxs(k,{open:x,setOpen:a,width:"w-1/4",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Customer"}),t.jsxs("form",{action:"",onSubmit:u,children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name"}),t.jsxs("select",{onChange:e=>p({...i,customer_id:e.target.value}),value:(i==null?void 0:i.customer_id)??"",name:"customer_id",className:"block w-full rounded-md bg-white px-3 py-2.5 text-base text-gray-900 placeholder:text-gray-400 focus:ring-pink-300 focus:border-pink-300 sm:text-sm/6",children:[t.jsx("option",{value:"",children:"Select Customer"}),t.jsx("option",{value:"",children:"N/A"}),n==null?void 0:n.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),t.jsx("div",{children:t.jsx("button",{onSubmit:u,disabled:c,className:"bg-pink-400 p-2 w-full rounded-md text-white hover:bg-pink-300",children:c?"Saving...":"Save"})})]})]})]})}export{X as default};
