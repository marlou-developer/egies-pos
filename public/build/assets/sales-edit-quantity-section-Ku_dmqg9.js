import{r as i,j as n,s as a}from"./app-S_hJ106f.js";import{e as f}from"./cart-service-eaGRba8i.js";import{g as m}from"./cart-thunk-CebMgfg2.js";import{S as p}from"./sweetalert2.esm.all-DV3w3JmD.js";function E({data:e}){const[o,r]=i.useState(!1),[t,u]=i.useState((e==null?void 0:e.quantity)||0),c=window.location.pathname.split("/")[3];i.useEffect(()=>{u(e==null?void 0:e.quantity)},[e==null?void 0:e.quantity]);const l=async s=>{s.key==="Enter"&&(await f({...e,quantity:t}),await a.dispatch(m(c)),await p.fire({icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),r(!1))};return n.jsxs("div",{className:"w-36",children:[!o&&n.jsx("button",{className:"w-full flex",onClick:()=>r(!0),children:t}),o&&n.jsx("input",{type:"number",value:t,onChange:s=>u(Number(s.target.value)),onKeyDown:l,autoFocus:!0,className:"border px-2 py-1 w-full"})]})}export{E as default};
