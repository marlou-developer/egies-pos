import{u as b,r,j as e,s as p}from"./app-sUGCbxQq.js";import{u as g,g as j}from"./cart-thunk-D_aCtqKp.js";import{M as _}from"./Modal-BoHpXSCm.js";import{T as v}from"./index-BnC3PTeP.js";import{F as w}from"./PencilIcon-ttkF35Gy.js";import{s as u}from"./index-CgcDSgZs.js";import"./cart-service-DGKcsYlT.js";import"./index-DG4-fn9A.js";import"./transition-Cf8Z7GGG.js";import"./dialog-DmAbo9je.js";import"./portal-BSaG9YEF.js";import"./index-DJt3eNYv.js";import"./XMarkIcon-Kp09leEv.js";import"./useZIndex-E3vFdWg-.js";import"./index-Df7lVsuL.js";import"./asyncToGenerator-CHdsdMle.js";import"./useId-D_yuQ6Vj.js";import"./roundedArrow-BUDgjosL.js";import"./motion-BLCci2GW.js";import"./zoom-DVqdgLCI.js";import"./UnstableContext-CVCXXavJ.js";import"./useCSSVarCls-DGZhGqSa.js";import"./KeyCode-C40MO73N.js";function Q({data:s}){var d;const{customers:i}=b(t=>t.customers),[h,l]=r.useState(!1),x=()=>l(!0),[n,m]=r.useState(!1),[o,a]=r.useState({}),f=window.location.pathname.split("/")[3];r.useEffect(()=>{a({...s,customer_id:(s==null?void 0:s.customer_id)||""})},[s]);const c=async t=>{t.preventDefault(),m(!0);try{await p.dispatch(g({...o,id:s==null?void 0:s.id,customer_id:(o==null?void 0:o.customer_id)||""})),p.dispatch(j(f)),u.success("Updated Successfully!"),l(!1)}catch{u.error("Failed to update Customer. Please try again.")}finally{m(!1)}};return console.log("customers",i),e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Edit Customer",children:e.jsx("button",{className:" text-blue-500 font-bold ",type:"button",onClick:x,children:e.jsx(w,{className:"h-4 w-4 mb-1 inline-block"})})}),e.jsxs(_,{open:h,setOpen:l,width:"w-1/4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Customer"}),e.jsxs("form",{action:"",onSubmit:c,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name"}),e.jsxs("select",{onChange:t=>a({...o,customer_id:t.target.value}),value:(o==null?void 0:o.customer_id)??"",name:"customer_id",className:"block w-full rounded-md bg-white px-3 py-2.5 text-base text-gray-900 placeholder:text-gray-400 focus:ring-pink-300 focus:border-pink-300 sm:text-sm/6",children:[e.jsx("option",{value:"",children:"Select Customer"}),e.jsx("option",{value:"",children:"N/A"}),(d=i==null?void 0:i.data)==null?void 0:d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsx("div",{children:e.jsx("button",{onSubmit:c,disabled:n,className:"bg-pink-400 p-2 w-full rounded-md text-white hover:bg-pink-300",children:n?"Saving...":"Save"})})]})]})]})}export{Q as default};
