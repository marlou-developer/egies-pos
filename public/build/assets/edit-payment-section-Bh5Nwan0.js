import{r as s,j as t,s as x}from"./app-DUUAzoRr.js";import{B as h}from"./button-VU3uqYoM.js";import{I as b}from"./input-OpRI3lL8.js";import{M as g}from"./modal-Bvpjg0gQ.js";import{p as c}from"./peso-BbTyboS3.js";import{a as j}from"./cart-service-BLSX9yik.js";import{g as _}from"./app-thunk-B-LcS3bU.js";import"./moment-C5S46NFB.js";import{f as v}from"./index-BNkzY_hn.js";import{S as y}from"./sweetalert2.esm.all-DV3w3JmD.js";import{T as E}from"./index-Cp2CNQrv.js";import"./index-DXCwG23J.js";import"./XMarkIcon-1aMSeH-z.js";import"./transition-CxWKCe9d.js";import"./dialog-CEEcQ8Vs.js";import"./portal-CPSeVnID.js";import"./index-Q9yKfaEO.js";import"./user-service-CQ_OuP4e.js";import"./useZIndex-DM0D6C92.js";import"./index-hVdG9Fbd.js";import"./asyncToGenerator-DS5NkXAd.js";import"./useId-1vyOgbm0.js";import"./roundedArrow-ChdyJcRd.js";import"./motion-BLCci2GW.js";import"./zoom-DKxDfzsX.js";function X({data:e}){var m;const[n,o]=s.useState(!1),[r,l]=s.useState({}),[u,i]=s.useState(!1),[p,N]=s.useState(!1);console.log("datadata",e),s.useEffect(()=>{l({cart_id:e==null?void 0:e.cart_id,due_date:e==null?void 0:e.due_date})},[n]);async function f(a){try{i(!0),await j(r),await x.dispatch(_()),await y.fire({icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),o(!1),i(!1)}catch{i(!1)}}console.log("data0",e);function d(a){return!(r.due_date||!p&&r.payment_type&&r.amount&&r.amount<=Number(e.balance))}return t.jsxs(t.Fragment,{children:[t.jsx(E,{title:"Edit Due Date",children:t.jsx("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-blue-600 hover:bg-blue-800 p-3 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:t.jsx(v,{className:" text-white"})})}),t.jsx(g,{isOpen:n,onClose:()=>o(!1),title:"EDIT DUE DATE",width:"max-w-lg",children:t.jsxs("div",{className:" flex flex-col gap-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"font-xl font-bold",children:["Customer Name: ",(m=e==null?void 0:e.customer)==null?void 0:m.name]}),t.jsxs("div",{className:"font-xl font-bold",children:["Balance: ",c(Number(e.balance))]}),t.jsxs("div",{className:"font-xl font-bold",children:["Current Balance:"," ",c(Number(e.balance)-Number(r.amount??0))]})]}),t.jsx(b,{onChange:a=>l({...r,due_date:a.target.value}),value:r.due_date,type:"date",label:"Date"}),t.jsx(h,{disabled:d(),loading:u,onClick:f,children:"EDIT DUE DATE"})]})})]})}export{X as default};
