import{u as _,r as C,s as N,j as t}from"./app-BrZ0-VN9.js";import{P as D,D as I,a as R,S as T,V as l,I as B,T as e,F as W}from"./react-pdf.browser-C_YiYupt.js";import{g as P}from"./cart-thunk-Bsa-KE_2.js";import{h as w}from"./moment-C5S46NFB.js";import{p as n}from"./peso-BbTyboS3.js";import"./cart-service-CdwQFzeN.js";W.register({family:"NotoSans",fonts:[{src:"/fonts/Noto_Sans/static/NotoSans-Regular.ttf",fontWeight:"normal",fontStyle:"normal"},{src:"/fonts/Noto_Sans/static/NotoSans-Italic.ttf",fontWeight:"normal",fontStyle:"italic"},{src:"/fonts/Noto_Sans/static/NotoSans-ExtraBold.ttf",fontWeight:"normal",fontStyle:"bold"}]});const o=T.create({page:{padding:30,fontSize:11,fontFamily:"NotoSans"},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:20},logo:{width:"60%",height:"100px"},companyInfo:{textAlign:"right"},invoiceTitle:{fontSize:20,fontWeight:"bold"},section:{marginBottom:10},tableHeader:{flexDirection:"row",borderBottomWidth:1,backgroundColor:"#f0f0f0",fontWeight:"bold",padding:5},tableRow:{flexDirection:"row",borderBottomWidth:1,padding:5},tableCol:{flex:1,paddingHorizontal:2},notes:{marginTop:20,fontStyle:"italic"},totalSection:{marginTop:10,width:"32%",alignSelf:"flex-end"},totalRow:{marginTop:5,flexDirection:"row",justifyContent:"space-between"},bold:{fontWeight:"bold"}}),V=()=>{var r,d,c,h,x,f,m,y,j,u,b,g,p;const a=window.location.pathname.split("/")[3],{cart:s}=_(i=>i.carts);return C.useEffect(()=>{N.dispatch(P(a))},[]),console.log("cartcart",s==null?void 0:s.data),t.jsx(D,{style:{width:"100%",height:"100vh"},children:t.jsx(I,{children:t.jsxs(R,{size:"A4",style:o.page,children:[t.jsxs(l,{style:o.header,children:[t.jsx(B,{src:"/images/logo.png",style:o.logo}),t.jsxs(l,{style:o.companyInfo,children:[t.jsx(e,{style:o.invoiceTitle,children:"INVOICE"}),t.jsxs(e,{children:["# INVOICE-",a]})]})]}),t.jsxs(l,{style:o.section,children:[t.jsx(e,{style:o.bold,children:"Egie’s Beauty Boutique"}),t.jsx(e,{children:"Rizal Street"}),t.jsx(e,{children:"San Carlos City, Negros Occidental 6127"}),t.jsx(e,{children:"Philippines"})]}),t.jsxs(l,{style:o.section,children:[t.jsxs(e,{children:["Bill To:"," ",t.jsx(e,{style:o.bold,children:(d=(r=s==null?void 0:s.data)==null?void 0:r.customer)==null?void 0:d.name})]}),t.jsxs(e,{children:["Invoice Date:  ",w((c=s==null?void 0:s.data)==null?void 0:c.created_at).format("LLL")]}),((h=s==null?void 0:s.data)==null?void 0:h.due_date)&&t.jsxs(e,{children:["Due Date:"," ",w((x=s==null?void 0:s.data)==null?void 0:x.due_date).format("LL")]})]}),t.jsxs(l,{style:o.tableHeader,children:[t.jsx(e,{style:[o.tableCol,{flex:.5}],children:"#"}),t.jsx(e,{style:[o.tableCol,{fontWeight:"bold"}],children:"Item & Description"}),t.jsx(e,{style:[o.tableCol,{flex:.8}],children:"Qty"}),t.jsx(e,{style:[o.tableCol,{flex:.8}],children:"Rate"}),t.jsx(e,{style:[o.tableCol,{flex:1}],children:"Amount"})]}),(m=(f=s==null?void 0:s.data)==null?void 0:f.cart_items)==null?void 0:m.map((i,S)=>t.jsxs(l,{style:o.tableRow,children:[t.jsx(e,{style:[o.tableCol,{flex:.5}],children:S+1}),t.jsx(e,{style:o.tableCol,children:i.product.name}),t.jsx(e,{style:[o.tableCol,{flex:.8}],children:i.quantity}),t.jsx(e,{style:[o.tableCol,{flex:.8}],children:n(Number(i.price))}),t.jsx(e,{style:[o.tableCol,{flex:1}],children:n(Number(i.total))})]},S)),t.jsxs(l,{style:o.totalSection,children:[t.jsxs(l,{style:o.totalRow,children:[t.jsx(e,{children:"Payment Status:"}),t.jsxs(e,{children:[" ",(y=s.data)==null?void 0:y.status]})]}),t.jsxs(l,{style:o.totalRow,children:[t.jsxs(e,{children:["Subtotal Price:"," "]}),t.jsx(e,{children:n(Number((j=s.data)==null?void 0:j.sub_total))})]}),t.jsxs(l,{style:o.totalRow,children:[t.jsxs(e,{children:["Discount Price:"," "]}),t.jsx(e,{children:n(Number(((u=s.data)==null?void 0:u.customer_total_discount)??0)+Number(((b=s==null?void 0:s.data)==null?void 0:b.discount_per_item)??0)+Number(((g=s==null?void 0:s.data)==null?void 0:g.discount_per_order)??0))})]}),t.jsx(l,{style:{height:1,backgroundColor:"#000",width:"100%",marginTop:5,marginBottom:5}}),t.jsxs(l,{style:o.totalRow,children:[t.jsxs(e,{style:o.bold,children:["Total:"," "]}),t.jsx(e,{style:o.bold,children:n(Number((p=s.data)==null?void 0:p.total_price))})]})]}),t.jsx(e,{style:o.notes,children:"Notes: Thanks for your business."})]})})})};export{V as default};
