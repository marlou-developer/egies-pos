import{r as a,j as e,s as l}from"./app-D8IySvzK.js";import{B as p}from"./button-BUOq7Gnr.js";import{I as f}from"./input-CIwOKOI6.js";import{M as d}from"./modal-DYP0vhwL.js";import{a as y,g as w}from"./stock-thunk-CTVxmflq.js";import{S as _}from"./sweetalert2.esm.all-DV3w3JmD.js";import"./index-BoG3g4zz.js";import"./dialog-BmHcEwoO.js";import"./portal-OhXhsulW.js";import"./transition-CAaCC_5C.js";import"./index-prTmOBBk.js";import"./XMarkIcon-CvG0QxLq.js";function Q({data:i}){const[n,s]=a.useState(!1),[t,o]=a.useState({}),[c,r]=a.useState(!1);a.useEffect(()=>{n&&o({...i,new_quantity:i.quantity})},[n]);async function m(u){try{r(!0),await l.dispatch(y({...t,new_quantity:Number(t.new_quantity),quantity:Number(t.quantity),return:Number(t.quantity)-Number(t.new_quantity)})),await l.dispatch(w()),await _.fire({icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),s(!1),r(!1)}catch{}}return console.log("waaaa",i),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>s(!0),children:"Edit"}),e.jsx(d,{isOpen:n,width:"max-w-xl",onClose:()=>s(!1),title:"Edit Quantity",children:e.jsxs("div",{className:"flex gap-3 flex-col w-full",children:[e.jsx(f,{label:"Quantity",name:"new_quantity",value:t==null?void 0:t.new_quantity,onChange:u=>o({...t,new_quantity:u.target.value})}),e.jsx(p,{loading:c,onClick:m,children:"UPDATE"})]})})]})}export{Q as default};
