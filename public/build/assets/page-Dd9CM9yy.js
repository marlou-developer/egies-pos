import{u as f,r as m,s as y,j as e}from"./app-wUbsG5zZ.js";import{P as j,D as u,a as b,S as g,V as l,I as p,T as o,F as S}from"./react-pdf.browser-C2v7_kTE.js";import{g as w}from"./cart-thunk-D26RolU5.js";import{h as x}from"./moment-C5S46NFB.js";import{p as n}from"./peso-BbTyboS3.js";import"./cart-service-COsVWQfv.js";S.register({family:"NotoSans",fonts:[{src:"/fonts/Noto_Sans/static/NotoSans-Regular.ttf",fontWeight:"normal",fontStyle:"normal"},{src:"/fonts/Noto_Sans/static/NotoSans-Italic.ttf",fontWeight:"normal",fontStyle:"italic"},{src:"/fonts/Noto_Sans/static/NotoSans-ExtraBold.ttf",fontWeight:"normal",fontStyle:"bold"}]});const s=g.create({page:{padding:30,fontSize:11,fontFamily:"NotoSans"},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:20},logo:{width:"60%",height:"100px"},companyInfo:{textAlign:"right"},invoiceTitle:{fontSize:20,fontWeight:"bold"},section:{marginBottom:10},tableHeader:{flexDirection:"row",borderBottomWidth:1,backgroundColor:"#f0f0f0",fontWeight:"bold",padding:5},tableRow:{flexDirection:"row",borderBottomWidth:1,padding:5},tableCol:{flex:1,paddingHorizontal:2},notes:{marginTop:20,fontStyle:"italic"},totalSection:{marginTop:10,width:"32%",alignSelf:"flex-end"},totalRow:{marginTop:5,flexDirection:"row",justifyContent:"space-between"},bold:{fontWeight:"bold"}}),T=()=>{var a,d;const r=window.location.pathname.split("/")[3],{cart:t}=f(i=>i.carts);return m.useEffect(()=>{y.dispatch(w(r))},[]),console.log("cartcart",t),e.jsx(j,{style:{width:"100%",height:"100vh"},children:e.jsx(u,{children:e.jsxs(b,{size:"A4",style:s.page,children:[e.jsxs(l,{style:s.header,children:[e.jsx(p,{src:"/images/logo.png",style:s.logo}),e.jsxs(l,{style:s.companyInfo,children:[e.jsx(o,{style:s.invoiceTitle,children:"INVOICE"}),e.jsxs(o,{children:["# INVOICE-",r]})]})]}),e.jsxs(l,{style:s.section,children:[e.jsx(o,{style:s.bold,children:"Egie’s Beauty Boutique"}),e.jsx(o,{children:"Rizal Street"}),e.jsx(o,{children:"San Carlos City, Negros Occidental 6127"}),e.jsx(o,{children:"Philippines"})]}),e.jsxs(l,{style:s.section,children:[e.jsxs(o,{children:["Bill To:"," ",e.jsx(o,{style:s.bold,children:(a=t==null?void 0:t.customer)==null?void 0:a.name})]}),e.jsxs(o,{children:["Invoice Date:  ",x(t==null?void 0:t.created_at).format("LLL")]}),(t==null?void 0:t.due_date)&&e.jsxs(o,{children:["Due Date:"," ",x(t==null?void 0:t.due_date).format("LL")]})]}),e.jsxs(l,{style:s.tableHeader,children:[e.jsx(o,{style:[s.tableCol,{flex:.5}],children:"#"}),e.jsx(o,{style:[s.tableCol,{fontWeight:"bold"}],children:"Item & Description"}),e.jsx(o,{style:[s.tableCol,{flex:.8}],children:"Qty"}),e.jsx(o,{style:[s.tableCol,{flex:.8}],children:"Rate"}),e.jsx(o,{style:[s.tableCol,{flex:1}],children:"Amount"})]}),(d=t==null?void 0:t.cart_items)==null?void 0:d.map((i,c)=>{var h;return e.jsxs(l,{style:s.tableRow,children:[e.jsx(o,{style:[s.tableCol,{flex:.5}],children:c+1}),e.jsx(o,{style:s.tableCol,children:(h=i.product)==null?void 0:h.name}),e.jsx(o,{style:[s.tableCol,{flex:.8}],children:i.quantity}),e.jsx(o,{style:[s.tableCol,{flex:.8}],children:n(Number(i.price))}),e.jsx(o,{style:[s.tableCol,{flex:1}],children:n(Number(i.total))})]},c)}),e.jsxs(l,{style:s.totalSection,children:[e.jsxs(l,{style:s.totalRow,children:[e.jsx(o,{children:"Payment Status:"}),e.jsxs(o,{children:[" ",t==null?void 0:t.status]})]}),e.jsxs(l,{style:s.totalRow,children:[e.jsxs(o,{children:["Subtotal Price:"," "]}),e.jsx(o,{children:n(Number(t==null?void 0:t.sub_total))})]}),e.jsxs(l,{style:s.totalRow,children:[e.jsxs(o,{children:["Discount Price:"," "]}),e.jsx(o,{children:n(Number((t==null?void 0:t.customer_total_discount)??0)+Number((t==null?void 0:t.discount_per_item)??0)+Number((t==null?void 0:t.discount_per_order)??0))})]}),e.jsx(l,{style:{height:1,backgroundColor:"#000",width:"100%",marginTop:5,marginBottom:5}}),e.jsxs(l,{style:s.totalRow,children:[e.jsxs(o,{style:s.bold,children:["Total:"," "]}),e.jsx(o,{style:s.bold,children:n(Number(t==null?void 0:t.total_price))})]})]}),e.jsx(o,{style:s.notes,children:"Notes: Thanks for your business."})]})})})};export{T as default};
