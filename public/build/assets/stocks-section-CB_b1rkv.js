import{r as d,u as F,a as R,j as e,f,H as w,I as h}from"./app-sUGCbxQq.js";import{z as E}from"./index-CdlH12VP.js";import S from"./add-stocks-section-BpZN6QdC.js";import v from"./stocks-history-section-nIJDZJIQ.js";import{p as m}from"./peso-BbTyboS3.js";import O from"./search-section-JhTTxMv7.js";import T from"./pagination-section-C6hCsB1_.js";import $ from"./print-section-BAk8n2AF.js";import B from"./filter-stocks-component-iZFVemRP.js";import C from"./soft-delete-section-CR59_3Ih.js";import{T as q}from"./index-BnC3PTeP.js";import{F as D}from"./PencilSquareIcon-BwOmCK0x.js";import"./Modal-BoHpXSCm.js";import"./index-DG4-fn9A.js";import"./transition-Cf8Z7GGG.js";import"./dialog-DmAbo9je.js";import"./portal-BSaG9YEF.js";import"./index-DJt3eNYv.js";import"./XMarkIcon-Kp09leEv.js";import"./input-Cq_B3AVN.js";import"./stock-thunk-CcOnyohf.js";import"./product-thunk-D-LwqPKZ.js";import"./cart-thunk-D_aCtqKp.js";import"./cart-service-DGKcsYlT.js";import"./index-CgcDSgZs.js";import"./useZIndex-E3vFdWg-.js";import"./UnstableContext-CVCXXavJ.js";import"./useCSSVarCls-DGZhGqSa.js";import"./asyncToGenerator-CHdsdMle.js";import"./KeyCode-C40MO73N.js";import"./index-Df7lVsuL.js";import"./useId-D_yuQ6Vj.js";import"./roundedArrow-BUDgjosL.js";import"./motion-BLCci2GW.js";import"./zoom-DVqdgLCI.js";import"./modal-BVN4ZrVR.js";import"./moment-C5S46NFB.js";import"./react-pdf.browser-C64XxwV3.js";function H({title:s,titleId:r,...x},g){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:g,"aria-labelledby":r},x),s?d.createElement("title",{id:r},s):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const M=d.forwardRef(H);function i(...s){return s.filter(Boolean).join(" ")}function Le(){var j,k,N,u;const{products:s,selectedStocks:r,selectAllStock:x,loading:g,error:U}=F(t=>t.products)||{products:{data:[]}},c=R(),[V,_]=d.useState(!1),[W,G]=d.useState(!1),[A,z]=d.useState(!1);console.log("products",s.data);const L=({message:t="Loading stocks..."})=>e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:t})]});return g?e.jsx(L,{}):e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:flex sm:items-center",children:e.jsxs("div",{className:"sm:flex-auto flex justify-between",children:[e.jsxs("h1",{className:"text-base font-semibold text-pink-500",children:[e.jsx(E,{className:"float-left mr-1 mt-1 text-pink-500"}),"Stocks Section"]}),e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>f.visit("stocks/soft_deleted"),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-pink-500 hover:bg-pink-600 p-3 text-sm font-semibold text-white shadow-xs ring-1 ring-gray-300 ring-inset",children:["View Removed Products",e.jsx(M,{className:"h-5"})]})})]})}),e.jsxs("div",{className:"mt-4 flex items-start justify-between",children:[e.jsx(O,{}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx($,{}),e.jsx(B,{open:A,setOpenFilter:z})]})]}),e.jsx("div",{className:"mt-8 block md:hidden",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:t=>{const a=t.target.checked;c(w(a)),c(h(a?[...s.all]:[]))},className:"rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Select All"})]})}),(k=(j=s==null?void 0:s.data)==null?void 0:j.data)==null?void 0:k.map((t,a)=>{var n;let o="inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20";t.quantity==0?o="inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20":t.quantity>=1&&t.quantity<=10&&(o="inline-flex items-center rounded-md bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-700 ring-1 ring-inset ring-yellow-600/20");const p=((n=t.stocks)==null?void 0:n.length)>0?new Date([...t.stocks].sort((l,b)=>new Date(b.date)-new Date(l.date))[0].date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"No Stocks Added";return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",checked:r.some(l=>l.id===t.id),onChange:l=>{const y=l.target.checked?[...r,t]:r.filter(P=>P.id!==t.id);c(h(y))},className:"mt-1 rounded border-gray-300 text-pink-600 focus:ring-pink-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-bold text-pink-500 mb-2",children:t.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Cost Price:"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:m(Number(t.cost))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Stock:"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:t.quantity})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),e.jsx("span",{className:o,children:t.quantity==0?"Out of Stock":t.quantity<=10?"Low Stock":"In Stock"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Last Added:"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:p})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Retail Value:"}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:m(Number(t.quantity)*Number(t.srp))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Capital:"}),e.jsx("span",{className:"text-sm font-bold text-blue-600",children:m(Number(t.quantity)*Number(t.cost))})]})]})]})]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx(S,{data:t}),e.jsx(v,{data:t}),e.jsx("button",{className:"bg-yellow-300 hover:bg-yellow-400 rounded-md p-2.5",onClick:()=>f.visit(`/administrator/stocks/${t.id}`),children:e.jsx(q,{title:"Edit Added Stock(s)",children:e.jsx(D,{className:"h-4"})})}),e.jsx(C,{data:t})]})]})},a)})]})}),e.jsx("div",{className:"mt-8 hidden md:block",children:e.jsx("div",{className:"flow-root",children:e.jsx("div",{className:"-mx-4 -my-2 sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle",children:e.jsxs("table",{id:"product-table",className:"min-w-full border-separate border-spacing-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 py-3.5 pr-3 pl-4 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter sm:pl-6 lg:pl-8",children:e.jsx("input",{type:"checkbox",checked:x,onChange:t=>{const a=t.target.checked;c(w(a)),c(h(a?[...s.all]:[]))}})}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 py-3.5 pr-3 pl-4 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter sm:pl-6 lg:pl-8",children:"Product"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Stocks"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Cost Price"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Status"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Date last stock(s) added"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Total Inventory Retail Price"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:"Total Inventory Capital"}),e.jsx("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white/75 px-3 py-3.5 text-left text-sm font-semibold text-gray-600 backdrop-blur-sm backdrop-filter",children:e.jsx("span",{className:"sr-only",children:"Action"})})]})}),e.jsx("tbody",{children:(u=(N=s==null?void 0:s.data)==null?void 0:N.data)==null?void 0:u.map((t,a)=>{var p;let o="inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20";return t.quantity==0?o="inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20":t.quantity>=1&&t.quantity<=10&&(o="inline-flex items-center rounded-md bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-700 ring-1 ring-inset ring-yellow-600/20"),e.jsxs("tr",{children:[e.jsx("td",{className:i(a!==s.data.data.length-1?"border-b border-gray-200":"","py-4 pl-4 pr-3 text-sm sm:pl-6 lg:pl-8"),children:e.jsx("input",{type:"checkbox",checked:r.some(n=>n.id===t.id),onChange:n=>{const b=n.target.checked?[...r,t]:r.filter(y=>y.id!==t.id);c(h(b))}})}),e.jsx("td",{className:i(a!==s.data.data.length-1?"border-b border-gray-200":"","py-4 px-3 pl-4 text-sm font-bold text-pink-500"),children:t.name}),e.jsx("td",{className:i(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm whitespace-nowrap text-gray-500"),children:e.jsx("span",{className:"inline-flex items-center font-bold px-2 py-1",children:t.quantity})}),e.jsx("td",{className:i(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm font-bold whitespace-nowrap text-gray-500"),children:t.cost==null||Number(t.cost)===0?"₱None":`₱${Number(t.cost).toFixed(2)}`}),e.jsx("td",{className:i(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm font-bold whitespace-nowrap text-gray-500"),children:e.jsx("span",{className:o,children:t.quantity==0?"Out of Stock":t.quantity<=10?"Low Stock":"In Stock"})}),e.jsx("td",{className:i(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm whitespace-nowrap text-gray-500"),children:e.jsx("span",{className:"inline-flex items-center font-bold px-2 py-1",children:((p=t.stocks)==null?void 0:p.length)>0?new Date([...t.stocks].sort((n,l)=>new Date(l.date)-new Date(n.date))[0].date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"No Stocks Added"})}),e.jsx("td",{className:i(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm whitespace-nowrap text-gray-500"),children:e.jsx("span",{className:"inline-flex items-center font-bold px-2 py-1",children:m(Number(t.quantity)*Number(t.srp))})}),e.jsx("td",{className:i(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm whitespace-nowrap text-gray-500"),children:e.jsx("span",{className:"inline-flex items-center font-bold px-2 py-1",children:m(Number(t.quantity)*Number(t.cost))})}),e.jsx("td",{className:i(a!==s.data.data.length-1?"border-b border-gray-200":"","px-3 py-4 text-sm text-gray-700"),children:e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx(S,{data:t}),e.jsx(v,{data:t}),e.jsx("button",{className:"bg-yellow-300 hover:bg-yellow-400 rounded-md p-2.5",onClick:()=>f.visit(`/administrator/stocks/${t.id}`),children:e.jsx(q,{title:"Edit Added Stock(s)",children:e.jsx(D,{className:"h-4"})})}),e.jsx(C,{data:t})]})})]},a)})})]})})})})}),e.jsx("div",{className:"mt-8",children:e.jsx(T,{})})]})}export{Le as default};
