import{r as u,u as j,a as g,j as e,x as o,s as m}from"./app-C30fPf3V.js";import{p as x}from"./index-w8fRlCuY.js";import{D as y}from"./drawer-section-CN-x1sw6.js";import{I as l}from"./input-Bjjx7q8m.js";import{c as b,g as v}from"./expense-thunk-BlmGmc5Q.js";import{F as N}from"./XMarkIcon-DDqs9-z7.js";import{s as p}from"./index-ZDcHFDAw.js";import"./transition-BD1mQQUp.js";import"./useZIndex-DQ-K7pJn.js";import"./index-DDLplu30.js";import"./index-CutfwEA9.js";import"./UnstableContext-Dd5VOsoQ.js";import"./useCSSVarCls-B1irBvZK.js";import"./asyncToGenerator-BEaHeM1R.js";import"./KeyCode-C40MO73N.js";function M({open:f,setOpenExpenses:i}){const[d,c]=u.useState(!1),{expense:s}=j(t=>t.expenses),r=g();function n(t,a){r(typeof t=="string"?o({...s,[t]:a}):o({...s,[t.target.name]:t.target.value}))}async function h(t){t.preventDefault(),c(!0);const a=new FormData;a.append("item",s.item??""),a.append("cost",s.cost??""),a.append("qty",s.qty??""),a.append("date",s.date??"");try{await m.dispatch(b(a)),await m.dispatch(v()),p.success("Expense successfully saved!"),i(!1),r(o({}))}catch{p.error("Failed to add Expense. Please try again.")}finally{c(!1)}}return e.jsx(e.Fragment,{children:e.jsx(y,{open:f,setOpen:i,children:e.jsxs("form",{onSubmit:h,className:"flex h-full flex-col divide-gray-200 bg-white shadow-xl",children:[e.jsxs("div",{className:"h-0 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"bg-pink-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-base font-semibold text-pink-600",children:[e.jsx(x,{className:"float-left mr-1 mt-1"}),"New Expense"]}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",onClick:()=>i(!1),className:"relative rounded-md bg-pink-200 text-gray-400 hover:text-gray-600 focus:ring-2 focus:ring-white focus:outline-hidden",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(N,{"aria-hidden":"true",className:"size-6"})]})})]}),e.jsx("div",{className:"mt-1",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Get started by filling in the information below to add new expense."})})]}),e.jsx("div",{className:"flex flex-1 flex-col justify-between",children:e.jsx("div",{className:"divide-y divide-gray-200 px-4 sm:px-6",children:e.jsxs("div",{className:"space-y-6 pt-6 pb-5",children:[e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx(x,{className:"float-left size-5 mr-1 mt-3 text-pink-500"}),e.jsx("h3",{className:"text-base font-medium text-gray-600 pt-3",children:"Expense Information"}),e.jsx("hr",{})]}),e.jsx("div",{children:e.jsx(l,{onChange:n,value:(s==null?void 0:s.item)??"",name:"item",label:"Purchased Item",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:n,value:(s==null?void 0:s.cost)??"",name:"cost",label:"Cost",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:n,value:(s==null?void 0:s.qty)??"",name:"qty",label:"Quantity",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:n,value:(s==null?void 0:s.date)??"",name:"date",label:"Purcased Date",type:"date"})})]})})})]}),e.jsxs("div",{className:"flex shrink-0 justify-end px-4 py-4",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"ml-4 inline-flex justify-center rounded-md bg-pink-500 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-pink-600 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600",children:d?"Loading...":"Submit"})]})]})})})}export{M as default};
