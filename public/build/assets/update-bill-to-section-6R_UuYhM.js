import{u as b,r,j as e,s as p}from"./app-Bzn93Qcd.js";import{u as g,g as j}from"./cart-thunk-OLz-n5Jy.js";import{M as _}from"./Modal-i6emLTtZ.js";import{T as v}from"./index-78nHds8Y.js";import{F as w}from"./PencilIcon-DT74S67R.js";import{s as u}from"./index-DoNM-LW1.js";import"./cart-service-b57p1VPv.js";import"./index-nHFnAm_9.js";import"./transition-BbN3UDsT.js";import"./dialog-CERSjmCy.js";import"./portal-Bc4vkHHu.js";import"./index-7KDhVcCT.js";import"./XMarkIcon-BwN0iQWM.js";import"./useZIndex-qgWKPbhk.js";import"./index-BleX8a6h.js";import"./asyncToGenerator-DxSVZpiR.js";import"./useId-DLNm8msd.js";import"./roundedArrow-Bk47keTX.js";import"./motion-BLCci2GW.js";import"./zoom-EnhnLzvy.js";import"./UnstableContext-C6lXb5k-.js";import"./useCSSVarCls-BCdh_B73.js";import"./KeyCode-C40MO73N.js";function Q({data:s}){var d;const{customers:i}=b(t=>t.customers),[h,l]=r.useState(!1),x=()=>l(!0),[n,m]=r.useState(!1),[o,a]=r.useState({}),f=window.location.pathname.split("/")[3];r.useEffect(()=>{a({...s,customer_id:(s==null?void 0:s.customer_id)||""})},[s]);const c=async t=>{t.preventDefault(),m(!0);try{await p.dispatch(g({...o,id:s==null?void 0:s.id,customer_id:(o==null?void 0:o.customer_id)||""})),p.dispatch(j(f)),u.success("Updated Successfully!"),l(!1)}catch{u.error("Failed to update Customer. Please try again.")}finally{m(!1)}};return console.log("customers",i),e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Edit Customer",children:e.jsx("button",{className:" text-blue-500 font-bold ",type:"button",onClick:x,children:e.jsx(w,{className:"h-4 w-4 mb-1 inline-block"})})}),e.jsxs(_,{open:h,setOpen:l,width:"w-1/4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Customer"}),e.jsxs("form",{action:"",onSubmit:c,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name"}),e.jsxs("select",{onChange:t=>a({...o,customer_id:t.target.value}),value:(o==null?void 0:o.customer_id)??"",name:"customer_id",className:"block w-full rounded-md bg-white px-3 py-2.5 text-base text-gray-900 placeholder:text-gray-400 focus:ring-pink-300 focus:border-pink-300 sm:text-sm/6",children:[e.jsx("option",{value:"",children:"Select Customer"}),e.jsx("option",{value:"",children:"N/A"}),(d=i==null?void 0:i.data)==null?void 0:d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsx("div",{children:e.jsx("button",{onSubmit:c,disabled:n,className:"bg-pink-400 p-2 w-full rounded-md text-white hover:bg-pink-300",children:n?"Saving...":"Save"})})]})]})]})}export{Q as default};
