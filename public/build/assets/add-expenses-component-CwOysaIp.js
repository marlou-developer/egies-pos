import{r as j,u as g,a as y,j as e,x as o,s as p}from"./app-BEu3K-d8.js";import{D as v}from"./drawer-section-DsxmIO0U.js";import{I as l}from"./input-KPynG1zX.js";import{c as b,g as N}from"./expense-thunk-C6UyO8Vd.js";import{a as x}from"./index-D-_ib8kC.js";import{F as m}from"./index.es-NBY-O55I.js";import{F as E}from"./XMarkIcon-9Bwg-rB0.js";import{s as u}from"./index-VBVOG-KF.js";import"./transition-P3v0ufNX.js";import"./useZIndex-fLlsf4L0.js";import"./index-D_ynLbGv.js";import"./index-irj-CvBB.js";import"./UnstableContext-CjXCf5-K.js";import"./useCSSVarCls-DfTwRjE1.js";import"./asyncToGenerator-DHhzx-X8.js";import"./KeyCode-C40MO73N.js";function Q({open:h,setOpenExpenses:n}){const[d,c]=j.useState(!1),{expense:s}=g(t=>t.expenses),r=y();function i(t,a){r(typeof t=="string"?o({...s,[t]:a}):o({...s,[t.target.name]:t.target.value}))}async function f(t){t.preventDefault(),c(!0);const a=new FormData;a.append("category",s.category??""),a.append("item",s.item??""),a.append("cost",s.cost??""),a.append("qty",s.qty??""),a.append("date",s.date??"");try{await p.dispatch(b(a)),await p.dispatch(N()),u.success("Expense successfully saved!"),n(!1),r(o({}))}catch{u.error("Failed to add Expense. Please try again.")}finally{c(!1)}}return e.jsx(e.Fragment,{children:e.jsx(v,{open:h,setOpen:n,children:e.jsxs("form",{onSubmit:f,className:"flex h-full flex-col divide-gray-200 bg-white shadow-xl",children:[e.jsxs("div",{className:"h-0 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"bg-pink-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-base font-semibold text-pink-600",children:[e.jsx(m,{icon:x,className:" h-5 items-center mr-1"}),"New Expense"]}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",onClick:()=>n(!1),className:"relative rounded-md bg-pink-200 text-gray-400 hover:text-gray-600 focus:ring-2 focus:ring-white focus:outline-hidden",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(E,{"aria-hidden":"true",className:"size-6"})]})})]}),e.jsx("div",{className:"mt-1",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Get started by filling in the information below to add new expense."})})]}),e.jsx("div",{className:"flex flex-1 flex-col justify-between",children:e.jsx("div",{className:"divide-y divide-gray-200 px-4 sm:px-6",children:e.jsxs("div",{className:"space-y-6 pt-6 pb-5",children:[e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx(m,{icon:x,className:"float-left size-5 mr-1 mt-3 text-pink-500"}),e.jsx("h3",{className:"text-base font-medium text-pink-500 pt-3",children:"Expense Information"}),e.jsx("hr",{className:"border-t border-gray-300"})]}),e.jsx("div",{children:e.jsxs("select",{id:"category",name:"category",onChange:i,value:(s==null?void 0:s.category)??"",className:"w-full rounded-md border border-gray-500 bg-white py-3 text-gray-900 focus:border-pink-400 focus:ring-pink-300",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select Expense Category"}),e.jsx("option",{value:"N/A",children:"N/A"}),e.jsx("option",{value:"Maintenance & Repair Expense",children:"Maintenance & Repair Expense"}),e.jsx("option",{value:"Miscellaneous Expense",children:"Miscellaneous Expense"}),e.jsx("option",{value:"Operating Expenses",children:"Operating Expenses"}),e.jsx("option",{value:"Permits & Licenses Expense",children:"Permits & Licenses Expense"}),e.jsx("option",{value:"Rent Expense",children:"Rent Expense"}),e.jsx("option",{value:"Salary Expenses",children:"Salary Expenses"}),e.jsx("option",{value:"Supplies Expense",children:"Supplies Expense"}),e.jsx("option",{value:"Utilities Expenses",children:"Utilities Expenses"})]})}),e.jsx("div",{children:e.jsx(l,{onChange:i,value:(s==null?void 0:s.item)??"",name:"item",label:"Purchased Item/Name",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:i,value:(s==null?void 0:s.cost)??"",name:"cost",label:"Cost",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:i,value:(s==null?void 0:s.qty)??"",name:"qty",label:"Quantity",type:"number"})}),e.jsx("div",{children:e.jsx(l,{onChange:i,value:(s==null?void 0:s.date)??"",name:"date",label:"Purcased Date",type:"date"})})]})})})]}),e.jsxs("div",{className:"flex shrink-0 justify-end px-4 py-4",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"ml-4 inline-flex justify-center rounded-md bg-pink-500 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-pink-600 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600",children:d?"Loading...":"Submit"})]})]})})})}export{Q as default};
