import{r,j as e,s as m}from"./app-DeuQme3A.js";import{B as b}from"./button-DNz69jjj.js";import{I as d}from"./input-B7Nrkrdo.js";import{M as g}from"./modal-DYfjmVwB.js";import{p as c}from"./peso-BbTyboS3.js";import{g as y}from"./app-thunk-z2AAhlTp.js";import{a as j}from"./cart-thunk-CotIryLI.js";import"./moment-C5S46NFB.js";import{b as v}from"./index-C6L5G6_4.js";import"./index-COCEIYZg.js";import"./dialog-CJQPOhbH.js";import"./portal-p-6bPUqv.js";import"./transition-CN9xI_7u.js";import"./index-pdTViLMI.js";import"./XMarkIcon-reztv-_7.js";import"./cart-service-BAGuIiFb.js";import"./user-service-BQZg6LOy.js";function R({data:s}){const[u,o]=r.useState(!1),[t,l]=r.useState({}),[p,i]=r.useState(!1),[n,x]=r.useState(!1);async function f(a){try{i(!0),await m.dispatch(j({...s,...t})),await m.dispatch(y()),o(!1),i(!1)}catch{i(!1)}}console.log("data0",s);function h(a){return!(n&&t.due_date&&t.payment_type&&t.amount&&t.amount<=Number(s.balance)||!n&&t.payment_type&&t.amount&&t.amount<=Number(s.balance))}return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-yellow-100 hover:bg-yellow-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:[e.jsx(v,{className:" text-yellow-500"}),"Pay Credit"]}),e.jsx(g,{isOpen:u,onClose:()=>o(!1),title:"Add Payment",width:"max-w-lg",children:e.jsxs("div",{className:" flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-xl font-bold",children:["Customer Name: ",s.customer.name]}),e.jsxs("div",{className:"font-xl font-bold",children:["Balance: ",c(Number(s.balance))]}),e.jsxs("div",{className:"font-xl font-bold",children:["Current Balance:"," ",c(Number(s.balance)-Number(t.amount??0))]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{id:"is_customer",name:"is_customer",type:"checkbox",checked:n,onChange:a=>x(a.target.checked),className:"h-5 w-5 rounded border-pink-500 text-pink-600 focus:ring-pink-500 checked:bg-pink-600 checked:hover:bg-pink-600"}),e.jsx("span",{children:"Is Partial?"})]}),n&&e.jsx(d,{onChange:a=>l({...t,due_date:a.target.value}),value:t.due_date,type:"date",label:"Date"}),e.jsx("div",{children:e.jsx(d,{label:"Amount",name:"",value:t.amount,onChange:a=>l({...t,amount:a.target.value}),type:"number"})}),e.jsxs("select",{onChange:a=>l({...t,payment_type:a.target.value}),className:"rounded-md py-2.5 text-gray-500",label:"Mode of Payment",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Mode of Payment:"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"E-Wallet",children:"E-Wallet"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Credit/Debit Card",children:"Credit/Debit Card"})]}),e.jsx(b,{disabled:h(),loading:p,onClick:f,children:"ADD PAYMENT"})]})})]})}export{R as default};
