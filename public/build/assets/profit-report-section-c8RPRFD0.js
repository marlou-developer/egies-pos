import{u as p,j as t}from"./app-DRqozc0n.js";import{P as b,D as B,a as D,S as C,V as n,T as e,F as P}from"./react-pdf.browser-BlB7MiCp.js";import{p as a}from"./peso-BbTyboS3.js";P.register({family:"NotoSans",fonts:[{src:"/fonts/Noto_Sans/static/NotoSans-Regular.ttf",fontWeight:"normal"},{src:"/fonts/Noto_Sans/static/NotoSans-Bold.ttf",fontWeight:"bold"}]});const s=C.create({page:{fontFamily:"NotoSans",fontSize:10,padding:30},header:{marginBottom:20},companyInfo:{textAlign:"right"},title:{fontSize:18,fontWeight:"bold",marginBottom:10},infoRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:2},tableHeader:{flexDirection:"row",backgroundColor:"#f0f0f0",borderBottom:1,padding:5,fontWeight:"bold"},tableRow:{flexDirection:"row",borderBottom:1,padding:5},col:{flex:1,paddingHorizontal:3},colSmall:{flex:.5,paddingHorizontal:3},summary:{marginTop:10,alignItems:"flex-end"}}),T=()=>{var c,d,x,h,m,y,j;const{reports:l}=p(o=>o.carts),r=new URLSearchParams(window.location.search),f=r.get("start"),g=r.get("end"),u=(c=l==null?void 0:l.data)==null?void 0:c.reduce((o,i)=>o+Number(i.cost),0),S=(d=l==null?void 0:l.data)==null?void 0:d.reduce((o,i)=>o+Number(i.total),0),w=(x=l==null?void 0:l.data)==null?void 0:x.reduce((o,i)=>o+Number(i.profit),0);return console.log("reports",l),t.jsx(b,{style:{width:"100%",height:"100vh"},children:t.jsx(B,{children:t.jsxs(D,{orientation:"landscape",size:"A4",style:s.page,children:[t.jsxs(n,{style:s.header,children:[t.jsx(e,{style:s.title,children:"Profit and Margin"}),t.jsxs(n,{style:{width:"100%",flexDirection:"row",justifyContent:"space-between",marginBottom:10},children:[t.jsxs(n,{style:{flex:1},children:[t.jsxs(n,{style:{flexDirection:"row",marginBottom:2},children:[t.jsx(e,{style:{width:60},children:"Period:"}),t.jsxs(e,{children:[f," - ",g]})]}),t.jsxs(n,{style:{flexDirection:"row",marginBottom:2},children:[t.jsx(e,{style:{width:60},children:"Customer:"}),t.jsx(e,{children:((h=l==null?void 0:l.customer)==null?void 0:h.name)??"All"})]}),t.jsxs(n,{style:{flexDirection:"row",marginBottom:2},children:[t.jsx(e,{style:{width:60},children:"User:"}),t.jsx(e,{children:((m=l==null?void 0:l.user)==null?void 0:m.name)??"All"})]}),t.jsxs(n,{style:{flexDirection:"row",marginBottom:2},children:[t.jsx(e,{style:{width:60},children:"Product:"}),t.jsx(e,{children:((y=l==null?void 0:l.product)==null?void 0:y.name)??"All"})]})]}),t.jsxs(n,{style:{flex:1,textAlign:"left"},children:[t.jsxs(n,{style:{flexDirection:"row",justifyContent:"flex-start",marginBottom:2},children:[t.jsxs(e,{style:{width:60},children:["Company:  "," "]}),t.jsx(e,{children:"Egie's Beauty Boutique"})]}),t.jsxs(n,{style:{flexDirection:"row",justifyContent:"flex-start"},children:[t.jsxs(e,{style:{width:53},children:["Address: "," "]}),t.jsx(e,{children:"Rizal Street Brgy V, 6127 San Carlos City"})]})]})]})]}),t.jsxs(n,{style:s.tableHeader,children:[t.jsx(e,{style:s.colSmall,children:"Code"}),t.jsx(e,{style:s.col,children:"Product"}),t.jsx(e,{style:s.colSmall,children:"Quantity"}),t.jsx(e,{style:s.colSmall,children:"Cost"}),t.jsx(e,{style:s.colSmall,children:"Total"}),t.jsx(e,{style:s.colSmall,children:"Profit"}),t.jsx(e,{style:s.colSmall,children:"Margin"})]}),(j=l==null?void 0:l.data)==null?void 0:j.map((o,i)=>t.jsxs(n,{style:s.tableRow,children:[t.jsx(e,{style:s.colSmall,children:o.code}),t.jsx(e,{style:s.col,children:o==null?void 0:o.product}),t.jsx(e,{style:s.colSmall,children:o.quantity}),t.jsx(e,{style:s.colSmall,children:a(o.cost)}),t.jsx(e,{style:s.colSmall,children:a(o.total)}),t.jsx(e,{style:s.colSmall,children:a(o.profit)}),t.jsx(e,{style:s.colSmall,children:o.margin})]},i)),t.jsxs(n,{style:s.summary,children:[t.jsxs(e,{children:["Total Cost: ",a(u)]}),t.jsxs(e,{children:["Total Sales: ",a(S)]}),t.jsxs(e,{children:["Total Profit: ",a(w)]})]})]})})})};export{T as default};
