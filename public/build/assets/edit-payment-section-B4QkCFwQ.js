import{r,j as t,s as p}from"./app-QyV4lPi-.js";import{B as x}from"./button-Dw_xKdHy.js";import{I as b}from"./input-BuTjzOqn.js";import{M as g}from"./modal-eN0B5LQZ.js";import{p as m}from"./peso-BbTyboS3.js";import{e as h}from"./cart-service-hLKhm8_5.js";import{g as _}from"./app-thunk-DfNQ7wt_.js";import"./moment-C5S46NFB.js";import{b as j}from"./index-Ko74gArA.js";import{S as y}from"./sweetalert2.esm.all-DV3w3JmD.js";import"./index-B2T73-Qd.js";import"./dialog-CPIyomEm.js";import"./portal-BcwO0XIm.js";import"./transition-Cq4XcdIY.js";import"./index-Bb8CIhRd.js";import"./XMarkIcon-DimO_6m0.js";import"./user-service-DDxTT1dV.js";function Y({data:e}){const[i,a]=r.useState(!1),[s,l]=r.useState({}),[c,o]=r.useState(!1),[u,v]=r.useState(!1);console.log("datadata",e),r.useEffect(()=>{l({cart_id:e==null?void 0:e.cart_id,due_date:e==null?void 0:e.due_date})},[i]);async function f(n){try{o(!0),await h(s),await p.dispatch(_()),await y.fire({icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),a(!1),o(!1)}catch{o(!1)}}console.log("data0",e);function d(n){return!(s.due_date||!u&&s.payment_type&&s.amount&&s.amount<=Number(e.balance))}return t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-blue-100 hover:bg-blue-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:[t.jsx(j,{className:" text-blue-500"}),"Edit Due Date"]}),t.jsx(g,{isOpen:i,onClose:()=>a(!1),title:"EDIT DUE DATE",width:"max-w-lg",children:t.jsxs("div",{className:" flex flex-col gap-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"font-xl font-bold",children:["Customer Name: ",e.customer.name]}),t.jsxs("div",{className:"font-xl font-bold",children:["Balance: ",m(Number(e.balance))]}),t.jsxs("div",{className:"font-xl font-bold",children:["Current Balance:"," ",m(Number(e.balance)-Number(s.amount??0))]})]}),t.jsx(b,{onChange:n=>l({...s,due_date:n.target.value}),value:s.due_date,type:"date",label:"Date"}),t.jsx(x,{disabled:d(),loading:c,onClick:f,children:"EDIT DUE DATE"})]})})]})}export{Y as default};
