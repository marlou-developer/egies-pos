import{r as i,j as a,s as l}from"./app-Cslt-Cd6.js";import{B as m,S as f}from"./sweetalert2.esm.all-CWB4uMoc.js";import{I as c}from"./input-DzECkvMF.js";import{M as y}from"./modal-VNyi25Bz.js";import{a as w,g as _}from"./stock-thunk-C31VxEu9.js";import"./index-3AxIffan.js";import"./dialog-BaPfyK7i.js";import"./portal-BX1dK1Sr.js";import"./transition-qEWs9c5T.js";import"./index-CZpJ7tVC.js";import"./XMarkIcon-CgG7kOQ6.js";function B({data:n}){const[s,o]=i.useState(!1),[t,u]=i.useState({}),[d,r]=i.useState(!1);i.useEffect(()=>{var e;s&&u({...n,new_quantity:n.quantity,date:(e=n.date)==null?void 0:e.split("T")[0]})},[s]);async function p(e){try{r(!0),await l.dispatch(w({...t,new_quantity:Number(t.new_quantity),quantity:Number(t.quantity),return:Number(t.quantity)-Number(t.new_quantity)})),await l.dispatch(_()),await f.fire({icon:"success",title:"Added Stock(s) has been updated",showConfirmButton:!1,timer:1500}),o(!1),r(!1)}catch{}}return console.log("waaaa",n),a.jsxs("div",{children:[a.jsx("button",{onClick:()=>o(!0),children:"Edit"}),a.jsx(y,{isOpen:s,width:"max-w-xl",onClose:()=>o(!1),title:"Edit Quantity",children:a.jsxs("div",{className:"flex gap-5 flex-col w-full",children:[a.jsx(c,{label:"Quantity",name:"new_quantity",value:t==null?void 0:t.new_quantity,onChange:e=>u({...t,new_quantity:e.target.value})}),a.jsx(c,{type:"date",label:"Date",name:"date",value:t==null?void 0:t.date,onChange:e=>u({...t,date:e.target.value})}),a.jsx(m,{loading:d,onClick:p,children:"UPDATE"})]})})]})}export{B as default};
