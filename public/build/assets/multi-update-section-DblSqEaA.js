import{r as l,b as u,u as x,j as e,s as h,D as f}from"./app-CR5M0dYh.js";import{B as g}from"./button-CNuldkTJ.js";import{M as b}from"./modal-C_VYpyiN.js";import{i as j}from"./cart-service-DgnNfKk1.js";import{f as y}from"./cart-thunk-CW0KM6Rh.js";import{t as w}from"./index-BZ1cYF1M.js";import{S}from"./sweetalert2.esm.all-DV3w3JmD.js";import"./index-OV2HyTiv.js";import"./dialog-v345RKPG.js";import"./portal-WM6H28eg.js";import"./transition-CXU1Zv1q.js";import"./index-DantzsIW.js";import"./XMarkIcon-DQ2o2z9S.js";function N(...r){return r.filter(Boolean).join(" ")}function F(){const[r,o]=l.useState(!1),[i,d]=l.useState({}),[c,n]=l.useState(!1),p=u(),{selectedProducts:s}=x(t=>t.carts);async function m(){try{n(!0),await j({...i,data:s}),await h.dispatch(y()),await S.fire({icon:"success",title:"Your Shopee has been updated",showConfirmButton:!1,timer:1500}),p(f([])),n(!1),o(!1)}catch{n(!1)}}return console.log("selectedProducts",s),e.jsxs("div",{children:[s.length!=0&&e.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-yellow-100 hover:bg-yellow-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:[e.jsx(w,{className:" text-yellow-500"}),s.length," Update"]}),e.jsxs(b,{isOpen:r,onClose:()=>o(!1),title:"Update Status",width:"max-w-lg",children:[e.jsxs("table",{className:"min-w-full border-separate border-spacing-0",children:[e.jsx("thead",{children:e.jsx("tr",{children:["Customer","Invoice No."].map((t,a)=>e.jsx("th",{className:N("sticky top-0 z-10 border-b border-gray-300 bg-white/75 py-3.5 px-3 text-left text-sm font-semibold text-gray-900 backdrop-blur-sm backdrop-filter",a===5&&"pr-4 sm:pr-6 lg:pr-8"),children:t||e.jsx("span",{className:"sr-only",children:"Actions"})},a))})}),e.jsx("tbody",{children:s==null?void 0:s.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap border-b border-gray-200 px-3 py-4 text-sm font-medium text-gray-900",children:t.customer}),e.jsx("td",{className:"whitespace-nowrap border-b border-gray-200 px-3 py-4 text-sm font-medium text-gray-900",children:t.cart_id})]},a))})]}),e.jsxs("div",{className:"flex  flex-col w-full gap-3 items-end justify-end",children:[e.jsxs("select",{onChange:t=>d({...i,status:t.target.value}),value:i.status,className:"rounded-md w-full text-gray-500",label:"Status",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Status:"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Refunded",children:"Refunded"}),e.jsx("option",{value:"Returned",children:"Returned"})]}),e.jsx(g,{className:"bg-pink-500 ",loading:c,onClick:m,children:"UPDATE ALL"})]})]})]})}export{F as default};
