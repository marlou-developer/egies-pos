import{r as f,u as j,a as g,j as e,x as o,s as p}from"./app-BN_XyATP.js";import{p as x}from"./index-BQjH03Km.js";import{D as y}from"./drawer-section-B3oL1vhK.js";import{I as l}from"./input-CaVbpWfX.js";import{c as v,g as b}from"./expense-thunk-CObU9aEI.js";import{F as N}from"./XMarkIcon-CHUewPQX.js";import{s as m}from"./index-CkazTGrz.js";import"./transition-BTuXs9rz.js";import"./useZIndex-i3fS9XjA.js";import"./index-DMIjWVs5.js";import"./index-DURAahtu.js";import"./UnstableContext-B4IVl-NZ.js";import"./useCSSVarCls-CISes2Wj.js";import"./asyncToGenerator-BO0zy_ct.js";import"./KeyCode-C40MO73N.js";function U({open:u,setOpenExpenses:n}){const[d,c]=f.useState(!1),{expense:s}=j(t=>t.expenses),r=g();function i(t,a){r(typeof t=="string"?o({...s,[t]:a}):o({...s,[t.target.name]:t.target.value}))}async function h(t){t.preventDefault(),c(!0);const a=new FormData;a.append("category",s.category??""),a.append("item",s.item??""),a.append("cost",s.cost??""),a.append("qty",s.qty??""),a.append("date",s.date??"");try{await p.dispatch(v(a)),await p.dispatch(b()),m.success("Expense successfully saved!"),n(!1),r(o({}))}catch{m.error("Failed to add Expense. Please try again.")}finally{c(!1)}}return e.jsx(e.Fragment,{children:e.jsx(y,{open:u,setOpen:n,children:e.jsxs("form",{onSubmit:h,className:"flex h-full flex-col divide-gray-200 bg-white shadow-xl",children:[e.jsxs("div",{className:"h-0 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"bg-pink-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-base font-semibold text-pink-600",children:[e.jsx(x,{className:"float-left mr-1 mt-1"}),"New Expense"]}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",onClick:()=>n(!1),className:"relative rounded-md bg-pink-200 text-gray-400 hover:text-gray-600 focus:ring-2 focus:ring-white focus:outline-hidden",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(N,{"aria-hidden":"true",className:"size-6"})]})})]}),e.jsx("div",{className:"mt-1",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Get started by filling in the information below to add new expense."})})]}),e.jsx("div",{className:"flex flex-1 flex-col justify-between",children:e.jsx("div",{className:"divide-y divide-gray-200 px-4 sm:px-6",children:e.jsxs("div",{className:"space-y-6 pt-6 pb-5",children:[e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx(x,{className:"float-left size-5 mr-1 mt-3 text-pink-500"}),e.jsx("h3",{className:"text-base font-medium text-gray-600 pt-3",children:"Expense Information"}),e.jsx("hr",{})]}),e.jsx("div",{children:e.jsxs("select",{id:"category",name:"category",onChange:i,value:(s==null?void 0:s.category)??"",className:"w-full rounded-md border border-gray-500 bg-white py-3 text-gray-900 focus:border-pink-400 focus:ring-pink-300",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select Expense Category"}),e.jsx("option",{value:"N/A",children:"N/A"}),e.jsx("option",{value:"Maintenance & Repair Expense",children:"Maintenance & Repair Expense"}),e.jsx("option",{value:"Miscellaneous Expense",children:"Miscellaneous Expense"}),e.jsx("option",{value:"Operating Expenses",children:"Operating Expenses"}),e.jsx("option",{value:"Permits & Licenses Expense",children:"Permits & Licenses Expense"}),e.jsx("option",{value:"Rent Expense",children:"Rent Expense"}),e.jsx("option",{value:"Salary Expenses",children:"Salary Expenses"}),e.jsx("option",{value:"Supplies Expense",children:"Supplies Expense"}),e.jsx("option",{value:"Utilities Expenses",children:"Utilities Expenses"})]})}),e.jsx("div",{children:e.jsx(l,{onChange:i,value:(s==null?void 0:s.item)??"",name:"item",label:"Purchased Item/Name",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:i,value:(s==null?void 0:s.cost)??"",name:"cost",label:"Cost",type:"text"})}),e.jsx("div",{children:e.jsx(l,{onChange:i,value:(s==null?void 0:s.qty)??"",name:"qty",label:"Quantity",type:"number"})}),e.jsx("div",{children:e.jsx(l,{onChange:i,value:(s==null?void 0:s.date)??"",name:"date",label:"Purcased Date",type:"date"})})]})})})]}),e.jsxs("div",{className:"flex shrink-0 justify-end px-4 py-4",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"ml-4 inline-flex justify-center rounded-md bg-pink-500 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-pink-600 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600",children:d?"Loading...":"Submit"})]})]})})})}export{U as default};
