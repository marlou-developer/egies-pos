import{u as J,j as l}from"./app-B9hIwdxO.js";import{P as K,D as O,a as X,S as Y,V as n,T as t,F as Z}from"./react-pdf.browser-D4ld60kF.js";import{p as r}from"./peso-BbTyboS3.js";Z.register({family:"NotoSans",fonts:[{src:"/fonts/Noto_Sans/static/NotoSans-Regular.ttf",fontWeight:"normal"},{src:"/fonts/Noto_Sans/static/NotoSans-Bold.ttf",fontWeight:"bold"}]});const s=Y.create({page:{fontFamily:"NotoSans",fontSize:10,padding:30},header:{marginBottom:20},companyInfo:{textAlign:"right"},title:{fontSize:18,fontWeight:"bold",marginBottom:10},infoRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:2},tableHeader:{flexDirection:"row",backgroundColor:"#f0f0f0",borderBottom:1,padding:5,fontWeight:"bold"},tableRow:{flexDirection:"row",borderBottom:1,padding:5},col:{flex:1,paddingHorizontal:3},colSmall:{flex:.5,paddingHorizontal:3},summary:{marginTop:10,alignItems:"flex-end"}}),el=()=>{var i,d,h,x,y,j,m,f,u,S,g,w,p,C,_,P,B,N,T,b,D,R,A,z;const{reports:o}=J(e=>e.carts),a=new URLSearchParams(window.location.search),H=a.get("start"),q=a.get("end"),F=(d=(i=o==null?void 0:o.data)==null?void 0:i.store)==null?void 0:d.reduce((e,c)=>e+Number(c.cost),0),M=(x=(h=o==null?void 0:o.data)==null?void 0:h.store)==null?void 0:x.reduce((e,c)=>e+Number(c.total),0),V=(j=(y=o==null?void 0:o.data)==null?void 0:y.store)==null?void 0:j.reduce((e,c)=>e+Number(c.profit),0),W=(f=(m=o==null?void 0:o.data)==null?void 0:m.shopee)==null?void 0:f.reduce((e,c)=>e+Number(c.cost),0),E=(S=(u=o==null?void 0:o.data)==null?void 0:u.shopee)==null?void 0:S.reduce((e,c)=>e+Number(c.total),0),Q=(w=(g=o==null?void 0:o.data)==null?void 0:g.shopee)==null?void 0:w.reduce((e,c)=>e+Number(c.profit),0),v=(C=(p=o==null?void 0:o.data)==null?void 0:p.credit)==null?void 0:C.reduce((e,c)=>e+Number(c.cost),0),I=(P=(_=o==null?void 0:o.data)==null?void 0:_.credit)==null?void 0:P.reduce((e,c)=>e+Number(c.total),0),U=(N=(B=o==null?void 0:o.data)==null?void 0:B.credit)==null?void 0:N.reduce((e,c)=>e+Number(c.profit),0),k=(((T=o==null?void 0:o.data)==null?void 0:T.store)||[]).slice().sort((e,c)=>((e==null?void 0:e.product)||"").localeCompare((c==null?void 0:c.product)||"")),L=(((b=o==null?void 0:o.data)==null?void 0:b.shopee)||[]).slice().sort((e,c)=>((e==null?void 0:e.product)||"").localeCompare((c==null?void 0:c.product)||"")),G=(((D=o==null?void 0:o.data)==null?void 0:D.credit)||[]).slice().sort((e,c)=>((e==null?void 0:e.product)||"").localeCompare((c==null?void 0:c.product)||""));return l.jsx(K,{style:{width:"100%",height:"100vh"},children:l.jsx(O,{children:l.jsxs(X,{orientation:"landscape",size:"A4",style:s.page,children:[l.jsxs(n,{style:s.header,children:[l.jsx(t,{style:s.title,children:"Profit and Margin"}),l.jsxs(n,{style:{width:"100%",flexDirection:"row",justifyContent:"space-between",marginBottom:10},children:[l.jsxs(n,{style:{flex:1},children:[l.jsxs(n,{style:{flexDirection:"row",marginBottom:2},children:[l.jsx(t,{style:{width:60},children:"Period:"}),l.jsxs(t,{children:[H," - ",q]})]}),l.jsxs(n,{style:{flexDirection:"row",marginBottom:2},children:[l.jsx(t,{style:{width:60},children:"Customer:"}),l.jsx(t,{children:((R=o==null?void 0:o.customer)==null?void 0:R.name)??"All"})]}),l.jsxs(n,{style:{flexDirection:"row",marginBottom:2},children:[l.jsx(t,{style:{width:60},children:"User:"}),l.jsx(t,{children:((A=o==null?void 0:o.user)==null?void 0:A.name)??"All"})]}),l.jsxs(n,{style:{flexDirection:"row",marginBottom:2},children:[l.jsx(t,{style:{width:60},children:"Product:"}),l.jsx(t,{children:((z=o==null?void 0:o.product)==null?void 0:z.name)??"All"})]})]}),l.jsxs(n,{style:{flex:1,textAlign:"left"},children:[l.jsxs(n,{style:{flexDirection:"row",justifyContent:"flex-start",marginBottom:2},children:[l.jsxs(t,{style:{width:60},children:["Company:  "," "]}),l.jsx(t,{children:"Egie's Beauty Boutique"})]}),l.jsxs(n,{style:{flexDirection:"row",justifyContent:"flex-start"},children:[l.jsxs(t,{style:{width:53},children:["Address: "," "]}),l.jsx(t,{children:"Rizal Street Brgy V, 6127 San Carlos City"})]})]})]})]}),l.jsx(t,{style:s.title,children:"Store"}),l.jsxs(n,{style:s.tableHeader,children:[l.jsx(t,{style:s.colSmall,children:"Code"}),l.jsx(t,{style:s.col,children:"Product"}),l.jsx(t,{style:s.colSmall,children:"Quantity"}),l.jsx(t,{style:s.colSmall,children:"Cost"}),l.jsx(t,{style:s.colSmall,children:"Total"}),l.jsx(t,{style:s.colSmall,children:"Profit"}),l.jsx(t,{style:s.colSmall,children:"Margin"})]}),k.map((e,c)=>l.jsxs(n,{style:s.tableRow,children:[l.jsx(t,{style:s.colSmall,children:e.code}),l.jsx(t,{style:s.col,children:e==null?void 0:e.product}),l.jsx(t,{style:s.colSmall,children:e.quantity}),l.jsx(t,{style:s.colSmall,children:r(e.cost)}),l.jsx(t,{style:s.colSmall,children:r(e.total)}),l.jsx(t,{style:s.colSmall,children:r(e.profit)}),l.jsx(t,{style:s.colSmall,children:e.margin})]},c)),l.jsxs(n,{style:s.summary,children:[l.jsxs(t,{children:["Total Cost: ",r(F)]}),l.jsxs(t,{children:["Total Sales: ",r(M)]}),l.jsxs(t,{children:["Total Profit: ",r(V)]})]}),l.jsx(t,{style:s.title,children:"Shopee"}),l.jsxs(n,{style:s.tableHeader,children:[l.jsx(t,{style:s.colSmall,children:"Code"}),l.jsx(t,{style:s.col,children:"Product"}),l.jsx(t,{style:s.colSmall,children:"Quantity"}),l.jsx(t,{style:s.colSmall,children:"Cost"}),l.jsx(t,{style:s.colSmall,children:"Total"}),l.jsx(t,{style:s.colSmall,children:"Profit"}),l.jsx(t,{style:s.colSmall,children:"Margin"})]}),L.map((e,c)=>l.jsxs(n,{style:s.tableRow,children:[l.jsx(t,{style:s.colSmall,children:e.code}),l.jsx(t,{style:s.col,children:e==null?void 0:e.product}),l.jsx(t,{style:s.colSmall,children:e.quantity}),l.jsx(t,{style:s.colSmall,children:r(e.cost)}),l.jsx(t,{style:s.colSmall,children:r(e.total)}),l.jsx(t,{style:s.colSmall,children:r(e.profit)}),l.jsx(t,{style:s.colSmall,children:e.margin})]},c)),l.jsxs(n,{style:s.summary,children:[l.jsxs(t,{children:["Total Cost: ",r(W)]}),l.jsxs(t,{children:["Total Sales: ",r(E)]}),l.jsxs(t,{children:["Total Profit: ",r(Q)]})]}),l.jsx(t,{style:s.title,children:"Credits"}),l.jsxs(n,{style:s.tableHeader,children:[l.jsx(t,{style:s.colSmall,children:"Code"}),l.jsx(t,{style:s.col,children:"Product"}),l.jsx(t,{style:s.colSmall,children:"Quantity"}),l.jsx(t,{style:s.colSmall,children:"Cost"}),l.jsx(t,{style:s.colSmall,children:"Total"}),l.jsx(t,{style:s.colSmall,children:"Profit"}),l.jsx(t,{style:s.colSmall,children:"Margin"})]}),G.map((e,c)=>l.jsxs(n,{style:s.tableRow,children:[l.jsx(t,{style:s.colSmall,children:e.code}),l.jsx(t,{style:s.col,children:e==null?void 0:e.product}),l.jsx(t,{style:s.colSmall,children:e.quantity}),l.jsx(t,{style:s.colSmall,children:r(e.cost)}),l.jsx(t,{style:s.colSmall,children:r(e.total)}),l.jsx(t,{style:s.colSmall,children:r(e.profit)}),l.jsx(t,{style:s.colSmall,children:e.margin})]},c)),l.jsxs(n,{style:s.summary,children:[l.jsxs(t,{children:["Total Cost: ",r(v)]}),l.jsxs(t,{children:["Total Sales: ",r(I)]}),l.jsxs(t,{children:["Total Profit: ",r(U)]})]})]})})})};export{el as default};
