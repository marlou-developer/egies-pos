import{r as i,b as m,u as x,j as e,s as h,F as f}from"./app-Ct2POXjA.js";import{B as g,S as b}from"./sweetalert2.esm.all-DmVzcKLK.js";import{M as j}from"./modal-BoIAlHz1.js";import{j as y}from"./cart-service-hj-6st5g.js";import{f as w}from"./cart-thunk-DeUKU5Xd.js";import{x as S}from"./index-WhrsqoUh.js";import"./index-C_f2Isem.js";import"./dialog-Diz6-jSF.js";import"./portal-uBNYy24S.js";import"./transition-BpxhrzRA.js";import"./index-8yh8bDd5.js";import"./XMarkIcon-C1vKr6Aa.js";function N(...r){return r.filter(Boolean).join(" ")}function M(){const[r,o]=i.useState(!1),[n,d]=i.useState({}),[c,l]=i.useState(!1),p=m(),{selectedProducts:s}=x(t=>t.carts);async function u(){try{l(!0),await y({...n,data:s}),await h.dispatch(w()),await b.fire({icon:"success",title:"Your Shopee has been updated",showConfirmButton:!1,timer:1500}),p(f([])),l(!1),o(!1)}catch{l(!1)}}return console.log("selectedProducts",s),e.jsxs("div",{children:[s.length!=0&&e.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-yellow-100 hover:bg-yellow-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:[e.jsx(S,{className:" text-yellow-500"}),s.length," Update"]}),e.jsxs(j,{isOpen:r,onClose:()=>o(!1),title:"Update Status",width:"max-w-lg",children:[e.jsxs("table",{className:"min-w-full border-separate border-spacing-0",children:[e.jsx("thead",{children:e.jsx("tr",{children:["Customer","Invoice No."].map((t,a)=>e.jsx("th",{className:N("sticky top-0 z-10 border-b border-gray-300 bg-white/75 py-3.5 px-3 text-left text-sm font-semibold text-gray-900 backdrop-blur-sm backdrop-filter",a===5&&"pr-4 sm:pr-6 lg:pr-8"),children:t||e.jsx("span",{className:"sr-only",children:"Actions"})},a))})}),e.jsx("tbody",{children:s==null?void 0:s.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap border-b border-gray-200 px-3 py-4 text-sm font-medium text-gray-900",children:t.customer}),e.jsx("td",{className:"whitespace-nowrap border-b border-gray-200 px-3 py-4 text-sm font-medium text-gray-900",children:t.cart_id})]},a))})]}),e.jsxs("div",{className:"flex  flex-col w-full gap-3 items-end justify-end",children:[e.jsxs("select",{onChange:t=>d({...n,status:t.target.value}),value:n.status,className:"rounded-md w-full text-gray-500",label:"Status",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Status:"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Refunded",children:"Refunded"}),e.jsx("option",{value:"Returned",children:"Returned"})]}),e.jsx(g,{className:"bg-pink-500 ",loading:c,onClick:u,children:"UPDATE ALL"})]})]})]})}export{M as default};
