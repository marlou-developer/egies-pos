import{r as l,b as u,u as x,j as e,s as h,B as f}from"./app-DGcqdgdv.js";import{B as g}from"./button-DxZGgsY8.js";import{M as b}from"./modal-ByfWoVoP.js";import{h as j}from"./cart-service-BqGKHR3k.js";import{e as y}from"./cart-thunk-h8z1KF1T.js";import{r as w}from"./index-7PF5j2Go.js";import{S}from"./sweetalert2.esm.all-DV3w3JmD.js";import"./index-CoquYDBv.js";import"./dialog-KK5ODtp3.js";import"./portal-Cnhr2n8z.js";import"./transition-BVUoSTV8.js";import"./index-B9MCMHvr.js";import"./XMarkIcon-Bme8OOUq.js";function N(...a){return a.filter(Boolean).join(" ")}function F(){const[a,o]=l.useState(!1),[n,d]=l.useState({}),[c,i]=l.useState(!1),p=u(),{selectedProducts:s}=x(t=>t.carts);async function m(){try{i(!0),await j({...n,data:s}),await h.dispatch(y()),await S.fire({icon:"success",title:"Your Shopee has been updated",showConfirmButton:!1,timer:1500}),p(f([])),i(!1),o(!1)}catch{i(!1)}}return console.log("selectedProducts",s),e.jsxs("div",{children:[s.length!=0&&e.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-yellow-100 hover:bg-yellow-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:[e.jsx(w,{className:" text-yellow-500"}),s.length," Update"]}),e.jsxs(b,{isOpen:a,onClose:()=>o(!1),title:"Update Status",width:"max-w-lg",children:[e.jsxs("table",{className:"min-w-full border-separate border-spacing-0",children:[e.jsx("thead",{children:e.jsx("tr",{children:["Customer","Invoice No."].map((t,r)=>e.jsx("th",{className:N("sticky top-0 z-10 border-b border-gray-300 bg-white/75 py-3.5 px-3 text-left text-sm font-semibold text-gray-900 backdrop-blur-sm backdrop-filter",r===5&&"pr-4 sm:pr-6 lg:pr-8"),children:t||e.jsx("span",{className:"sr-only",children:"Actions"})},r))})}),e.jsx("tbody",{children:s==null?void 0:s.map((t,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap border-b border-gray-200 px-3 py-4 text-sm font-medium text-gray-900",children:t.customer}),e.jsx("td",{className:"whitespace-nowrap border-b border-gray-200 px-3 py-4 text-sm font-medium text-gray-900",children:t.cart_id})]},r))})]}),e.jsxs("div",{className:"flex  flex-col w-full gap-3 items-end justify-end",children:[e.jsxs("select",{onChange:t=>d({...n,status:t.target.value}),value:n.status,className:"rounded-md w-full text-gray-500",label:"Status",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Status:"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Refunded",children:"Refunded"}),e.jsx("option",{value:"Returned",children:"Returned"})]}),e.jsx(g,{className:"bg-pink-500 ",loading:c,onClick:m,children:"UPDATE ALL"})]})]})]})}export{F as default};
