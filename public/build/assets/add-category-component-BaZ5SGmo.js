import{u as l,r as c,j as e,s as d}from"./app-BClm8aai.js";import{s as u,t as y}from"./index-WcNlhnuq.js";import"./index-B48emZ15.js";import{c as g,g as j}from"./category-thunk-uZ7GHJ_K.js";import b from"./edit-category-section-3sPeGSK6.js";import N from"./delete-category-section-CQ-Ty9I0.js";import{I as v}from"./input-DYl-JT2G.js";import{D as w}from"./drawer-section-oUbuJBr5.js";import{F as k}from"./XMarkIcon-5i4-ZVYW.js";import{s as x}from"./index-Bqncbe_0.js";import"./Modal-BZr-P3Fw.js";import"./transition-h2ckG7aJ.js";import"./dialog-bU1yaRQo.js";import"./portal-BcpiHnW6.js";import"./index-CV5cRS6Z.js";import"./index-DpgQhzbG.js";import"./useZIndex-dqeJF-X6.js";import"./index-BQrxAAY-.js";import"./asyncToGenerator-CrDUy5Kd.js";import"./useId-BOyva_7l.js";import"./roundedArrow-CGrR7jnC.js";import"./motion-BLCci2GW.js";import"./zoom-Cf1amMy1.js";import"./PencilIcon-7A6GxefN.js";import"./UnstableContext-B4Lr1UCv.js";import"./useCSSVarCls-CxJ-phAl.js";import"./KeyCode-C40MO73N.js";function $({open:p,setOpenCategory:a}){const{categories:i}=l(t=>t.categories),[o,n]=c.useState(!1),[r,f]=c.useState({}),{user:s}=l(t=>t.app),h=async t=>{t.preventDefault(),n(!0);try{await d.dispatch(g({...r})),x.success("Successfully added!"),await d.dispatch(j()),a(!1)}catch{x.error("Failed to add category. Please try again.")}finally{n(!1)}};return e.jsx(w,{open:p,setOpen:a,className:"relative z-50",children:e.jsx("div",{className:"pointer-events-auto w-screen max-w-md transform transition duration-500 ease-in-out sm:duration-700",children:e.jsx("div",{className:"flex h-full flex-col divide-y divide-gray-200 bg-white shadow-xl",children:e.jsxs("div",{className:"h-0 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"bg-pink-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-base font-semibold text-pink-600",children:[e.jsx(u,{className:"inline-block mr-1"}),"New Category"]}),e.jsx("button",{type:"button",onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:e.jsx(k,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Fill in the information below to create a new category."})]}),e.jsx("div",{className:"px-4 sm:px-6",children:e.jsxs("div",{className:"space-y-6 pt-6 pb-5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"inline-block mr-1 text-pink-500"}),e.jsx("h3",{className:"text-base font-medium text-gray-600",children:"Category Information"}),e.jsx("hr",{className:"my-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-pink-600",children:"Existing Categories"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:i==null?void 0:i.map((t,m)=>e.jsxs("span",{className:"inline-flex items-center rounded-full bg-yellow-50 px-2 py-1 mr-1 mb-2 text-xs font-medium text-yellow-800 ring-1 ring-yellow-600/20",children:[t.name,(s==null?void 0:s.user_type)==="Admin"&&e.jsx(b,{data:t}),(s==null?void 0:s.user_type)==="Admin"&&e.jsx(N,{data:t})]},m))})]}),e.jsxs("form",{onSubmit:h,children:[e.jsx(v,{onChange:t=>f({...r,name:t.target.value}),value:r.name||"",name:"name",label:"New Category Name",type:"text"}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-gray-300 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"ml-4 inline-flex justify-center rounded-md bg-pink-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-600",children:o?"Saving...":"Save"})]})]})]})})]})})})})}export{$ as default};
