import{b as d,u as m,r as f,x as i,j as s}from"./app-Cslt-Cd6.js";function j({product:e,storeName:r}){var c;const n=d(),{carts:a}=m(t=>t.products);function o(t){const x=a.find(l=>l.id==t.id);console.log("result",t),n(x?i(a.map(l=>l.id===t.id?{...l,pcs:l.pcs+1}:l)):i([...a,{...t,sub_price:0,pcs:1}]))}return f.useEffect(()=>{a&&n(i(a.map(t=>({...t,sub_price:r=="Store"?t.srp:t.shopee}))))},[a.length,r]),s.jsx(s.Fragment,{children:s.jsxs("button",{onClick:()=>o(e),className:`relative px-3 py-3 flex flex-col border rounded-md h-32 justify-between shadow-lg transition
                    ${e.quantity==0?"border-gray-300 cursor-not-allowed":"border-gray-200"}`,disabled:e.quantity==0,children:[e.quantity==0&&s.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-md",style:{backgroundColor:"rgba(204,204,204,0.6)"},children:s.jsx("h1",{className:"text-red-600 font-bold text-xl",children:"Out of Stock"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold flex text-gray-800",children:e.name}),s.jsx("span",{className:"font-light text-sm text-gray-400",children:e.description})]}),s.jsxs("div",{className:"flex flex-row justify-between items-end ",children:[s.jsx("span",{className:"text-lg ",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-gray-800 text-sm flex items-start",children:["SRP: ",s.jsxs("span",{className:"text-pink-500",children:["₱",parseFloat(e.srp).toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:"text-gray-800 text-sm flex items-start",children:["Stock(s): ",e.quantity]})]})}),s.jsx("img",{src:(c=e==null?void 0:e.uploads[0])==null?void 0:c.file,className:"h-20 w-24 object-cover rounded-md",alt:""})]})]})})}export{j as default};
