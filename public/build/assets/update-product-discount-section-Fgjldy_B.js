import{r as o,j as e,s as l}from"./app-C3_6I2cg.js";import{u as x,a as h}from"./product-thunk-qBcbXc1d.js";import{M as f}from"./Modal--GQV1xY6.js";import{g}from"./index-BBHVGw0Z.js";import{T as y}from"./index-MyBKmV0H.js";import{s as c}from"./index-Btiv2Gvx.js";import"./index-D7i0zHxx.js";import"./transition-DUD4TRGc.js";import"./dialog-D_eQpgql.js";import"./portal-C9NTNe8j.js";import"./index-B0kw6jH-.js";import"./XMarkIcon-BGJOKy-7.js";import"./useZIndex-BdJsmZFN.js";import"./index-DSSJ9yUb.js";import"./useId-CyzLbb_h.js";import"./zoom-D-s4sCRO.js";function z({data:d}){var u;const[m,a]=o.useState(!1),[n,i]=o.useState(!1),[t,r]=o.useState({}),p=window.location.pathname.split("/")[3];o.useEffect(()=>{r(d)},[]);const b=async s=>{s.preventDefault(),i(!0);try{await l.dispatch(x(t)),l.dispatch(h(p)),c.success("Updated Successfully!"),a(!1)}catch{c.error("Failed to update discount. Please try again.")}finally{i(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Update Discount",children:e.jsx("button",{type:"button",onClick:()=>a(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-blue-100 hover:bg-blue-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:e.jsx(g,{className:"size-5 text-blue-500"})})}),e.jsxs(f,{open:m,setOpen:a,width:"w-1/4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Update Discount"}),e.jsxs("form",{action:"",onSubmit:b,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Name"}),e.jsx("input",{onChange:s=>r({...t,name:s.target.value}),value:(u=t==null?void 0:t.product)==null?void 0:u.name,type:"text",name:"name",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",readOnly:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Discount"}),e.jsx("input",{onChange:s=>r({...t,customer_discount:s.target.value}),value:t==null?void 0:t.customer_discount,type:"number",name:"customer_discount",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:"bg-blue-400 p-2 w-full rounded-md text-white hover:bg-blue-300",children:n?"Saving...":"Save"})})]})]})]})}export{z as default};
